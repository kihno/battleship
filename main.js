(()=>{"use strict";var e={747:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(537),r=n.n(a),i=n(645),s=n.n(i),o=n(667),l=n.n(o),c=new URL(n(63),n.b),d=new URL(n(484),n.b),A=new URL(n(961),n.b),u=new URL(n(121),n.b),p=s()(r()),f=l()(c),h=l()(d),g=l()(A),m=l()(u);p.push([e.id,"@font-face {\n    font-family: 'major_snafuregular';\n    src: url("+f+") format('woff');\n    font-weight: normal;\n    font-style: normal;\n}\n\nbody {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    background-color: black;\n    width: 100%;\n}\n\nh1 {\n    font-family: 'major_snafuregular';\n    color: greenyellow;\n    font-size: 60px;\n    text-align: center;\n}\n\n#playButton, #rotate {\n    cursor: pointer;\n    background-color: #f94c3a;\n    color: white;\n    font-size: 25px;\n    border: none;\n    width: 200px;\n    height: 50px;\n}\n\n#display {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    column-gap: 20px;\n}\n\n#aiBoard {\n    margin-right: 220px;\n}\n\n#aiBoard>.cell {\n    cursor: crosshair;\n}\n\n#info {\n    color: greenyellow;\n    text-align: center;\n    font-size: 20px;\n}\n\n#shipContainer {\n    display: none;\n    flex-direction: column;\n    width: 200px;\n    gap: 5px;\n}\n\n#ships {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    background-color: black;\n}\n\n#carrierContainerr>img {\n    cursor: grab;\n}\n\n.ship {\n    height: 40px;\n}\n\n#carrierContainer.vertical {\n    width: 200px;\n    height: 200px;\n}\n\n#battleshipContainer.vertical {\n    width: 200px;\n    height: 160px;\n}\n\n#destroyerContainer.vertical, #submarineContainer.vertical {\n    width: 200px;\n    height: 120px;\n}\n\n#patrolContainer.vertical {\n    width: 200px;\n    height: 80px;\n}\n\n.hide {\n    display: none;\n}\n\n.dragOver {\n    background-color: lightgrey;\n}\n\n.invalid {\n    background-color: lightcoral;\n}\n\n.rotate {\n    transform: rotate(90deg) translate(-40px);\n    transform-origin: bottom left;\n}\n\n.board {\n    display: none;\n    grid: repeat(10, 1fr) / repeat(10, 1fr);\n    width: 400px;\n    height: 400px;\n    background-image: url("+h+");\n}\n\n.cell {\n    border: 1px solid black;\n    position: relative;\n}\n\n.cell>img {\n    cursor: grab;\n    position: absolute;\n}\n\n.cell[data-value='-']:after {\n    position: absolute;\n    height: 36px;\n    content: url("+g+");\n    z-index: 0;\n}\n\n.cell[data-value='x']:after {\n    position: absolute;\n    height: 36px;\n    content: url("+m+");\n    z-index: 0;\n}","",{version:3,sources:["webpack://./src/stylesheet.css"],names:[],mappings:"AAAA;IACI,iCAAiC;IACjC,2DAA2D;IAC3D,mBAAmB;IACnB,kBAAkB;AACtB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,uBAAuB;IACvB,uBAAuB;IACvB,WAAW;AACf;;AAEA;IACI,iCAAiC;IACjC,kBAAkB;IAClB,eAAe;IACf,kBAAkB;AACtB;;AAEA;IACI,eAAe;IACf,yBAAyB;IACzB,YAAY;IACZ,eAAe;IACf,YAAY;IACZ,YAAY;IACZ,YAAY;AAChB;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,kBAAkB;IAClB,kBAAkB;IAClB,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,YAAY;IACZ,QAAQ;AACZ;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,uBAAuB;IACvB,uBAAuB;AAC3B;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,YAAY;IACZ,YAAY;AAChB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,2BAA2B;AAC/B;;AAEA;IACI,4BAA4B;AAChC;;AAEA;IACI,yCAAyC;IACzC,6BAA6B;AACjC;;AAEA;IACI,aAAa;IACb,uCAAuC;IACvC,YAAY;IACZ,aAAa;IACb,yDAAsC;AAC1C;;AAEA;IACI,uBAAuB;IACvB,kBAAkB;AACtB;;AAEA;IACI,YAAY;IACZ,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,YAAY;IACZ,gDAA8B;IAC9B,UAAU;AACd;;AAEA;IACI,kBAAkB;IAClB,YAAY;IACZ,gDAA2B;IAC3B,UAAU;AACd",sourcesContent:["@font-face {\n    font-family: 'major_snafuregular';\n    src: url('./fonts/major_shift-webfont.woff') format('woff');\n    font-weight: normal;\n    font-style: normal;\n}\n\nbody {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    background-color: black;\n    width: 100%;\n}\n\nh1 {\n    font-family: 'major_snafuregular';\n    color: greenyellow;\n    font-size: 60px;\n    text-align: center;\n}\n\n#playButton, #rotate {\n    cursor: pointer;\n    background-color: #f94c3a;\n    color: white;\n    font-size: 25px;\n    border: none;\n    width: 200px;\n    height: 50px;\n}\n\n#display {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    column-gap: 20px;\n}\n\n#aiBoard {\n    margin-right: 220px;\n}\n\n#aiBoard>.cell {\n    cursor: crosshair;\n}\n\n#info {\n    color: greenyellow;\n    text-align: center;\n    font-size: 20px;\n}\n\n#shipContainer {\n    display: none;\n    flex-direction: column;\n    width: 200px;\n    gap: 5px;\n}\n\n#ships {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    background-color: black;\n}\n\n#carrierContainerr>img {\n    cursor: grab;\n}\n\n.ship {\n    height: 40px;\n}\n\n#carrierContainer.vertical {\n    width: 200px;\n    height: 200px;\n}\n\n#battleshipContainer.vertical {\n    width: 200px;\n    height: 160px;\n}\n\n#destroyerContainer.vertical, #submarineContainer.vertical {\n    width: 200px;\n    height: 120px;\n}\n\n#patrolContainer.vertical {\n    width: 200px;\n    height: 80px;\n}\n\n.hide {\n    display: none;\n}\n\n.dragOver {\n    background-color: lightgrey;\n}\n\n.invalid {\n    background-color: lightcoral;\n}\n\n.rotate {\n    transform: rotate(90deg) translate(-40px);\n    transform-origin: bottom left;\n}\n\n.board {\n    display: none;\n    grid: repeat(10, 1fr) / repeat(10, 1fr);\n    width: 400px;\n    height: 400px;\n    background-image: url(./img/radar.png);\n}\n\n.cell {\n    border: 1px solid black;\n    position: relative;\n}\n\n.cell>img {\n    cursor: grab;\n    position: absolute;\n}\n\n.cell[data-value='-']:after {\n    position: absolute;\n    height: 36px;\n    content: url(./img/splash.png);\n    z-index: 0;\n}\n\n.cell[data-value='x']:after {\n    position: absolute;\n    height: 36px;\n    content: url(./img/hit.png);\n    z-index: 0;\n}"],sourceRoot:""}]);const v=p},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(a)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);a&&s[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),i="/*# ".concat(r," */"),s=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(s).concat([i]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var i={},s=[],o=0;o<e.length;o++){var l=e[o],c=a.base?l[0]+a.base:l[0],d=i[c]||0,A="".concat(c," ").concat(d);i[c]=d+1;var u=n(A),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var f=r(p,a);a.byIndex=o,t.splice(o,0,{identifier:A,updater:f,references:1})}s.push(A)}return s}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=a(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var o=n(i[s]);t[o].references--}for(var l=a(e,r),c=0;c<i.length;c++){var d=n(i[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=l}}},569:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},63:(e,t,n)=>{e.exports=n.p+"f1bb1cc9454becf1325e.woff"},121:(e,t,n)=>{e.exports=n.p+"02dfad0383e212ea949d.png"},484:(e,t,n)=>{e.exports=n.p+"b00462d1e911dc052743.png"},961:(e,t,n)=>{e.exports=n.p+"ed8509d1c470d5885fa8.png"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={id:a,exports:{}};return e[a](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var e=n(379),t=n.n(e),a=n(795),r=n.n(a),i=n(569),s=n.n(i),o=n(565),l=n.n(o),c=n(216),d=n.n(c),A=n(589),u=n.n(A),p=n(747),f={};f.styleTagTransform=u(),f.setAttributes=l(),f.insert=s().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=d(),t()(p.Z,f),p.Z&&p.Z.locals&&p.Z.locals;const h={pubsub:{},sub:function(e,t){this.pubsub[e]=this.pubsub[e]||[],this.pubsub[e].push(t)},unsub:function(e,t){if(this.pubsub[e])for(var n=0;n<this.pubsub[e].length;n++)if(this.pubsub[e][n]===t){this.pubsub[e].splice(n,1);break}},pub:function(e,t){this.pubsub[e]&&this.pubsub[e].forEach((function(e){e(t)}))}},g=n.p+"af2b4ba4dde756e89805.png",m=n.p+"2a2ef86d8d5773dfc480.png",v=n.p+"b8d8ed85f469b68d8980.png",C=n.p+"a9bac7263797a746e375.png",b=n.p+"da6941d83ca306b9302a.png";(()=>{const e=document.getElementById("playButton"),t=document.getElementById("info"),n=document.getElementById("playerBoard"),a=document.getElementById("aiBoard"),r=document.getElementById("shipContainer"),i=document.getElementById("ships"),s=document.getElementById("rotate");let o;e.addEventListener("click",(function(){(function(){for(;n.firstChild;)n.removeChild(n.firstChild);for(;a.firstChild;)a.removeChild(a.firstChild);t.textContent=""})(),e.style.display="none",h.pub("newGame")})),s.addEventListener("click",(function(){i.firstChild.classList.toggle("vertical"),i.firstChild.firstChild.classList.toggle("rotate"),u=!u,h.pub("rotateShip",i.firstChild.firstChild.id)})),h.sub("gameCreated",(function(t){e.style.display="none",r.style.display="flex",n.style.display="grid",a.style.display="grid",function(e){for(let t=0;t<10;t++)e.fleet.grid[t].forEach(((e,a)=>{let r=document.createElement("div");r.className="cell",r.dataset.x=t,r.dataset.y=a,r.dataset.value=e,r.addEventListener("dragenter",I),r.addEventListener("dragover",B),r.addEventListener("dragleave",E),r.addEventListener("drop",k),n.appendChild(r)}))}(t.p1),function(e){for(let t=0;t<10;t++)e.fleet.grid[t].forEach(((e,n)=>{let r=document.createElement("div");r.className="cell",r.dataset.x=t,r.dataset.y=n,r.dataset.value=0,a.appendChild(r),r.addEventListener("click",w)}))}(t.p2),function(e){const t=[g,m,C,v,b];let n=0;e.fleet.allShips.forEach((e=>{const a=document.createElement("div");a.id=e.name+"Container";const r=new Image;r.src=t[n],r.id=e.name,r.className="ship",r.draggable=!0,r.addEventListener("dragstart",p),r.addEventListener("dragend",f),a.appendChild(r),i.appendChild(a),n++}))}(t.p1)})),h.sub("missileStrike",(function(e){e[0].dataset.value=e[1]})),h.sub("strikeBack",(function(e){let t=e[1],a=e[2];[...n.children].forEach((n=>{n.dataset.x==t&&n.dataset.y==a&&("-"===e[0].fleet.grid[t][a]?n.dataset.value="-":n.dataset.value="x")}))})),h.sub("shipSunk",(function(e){"computer"===e.name?t.textContent=`You have sunk your opponent's ${e.shipName}.`:t.textContent=`Your ${e.shipName} has sunk.`})),h.sub("gameOver",(function(n){[...a.children].forEach((e=>e.removeEventListener("click",w))),t.textContent="computer"===n?"Game Over. Your opponent's fleet has sunk.":"Game Over. Your fleet has sunk.",e.style.display="block",a.style.marginRight="220px"}));let l,c,d,A,u=!1;function p(e){o=e.target.id,e.dataTransfer.setData("image",e.target.id),setTimeout((()=>{e.target.classList.add("hide")})),[...e.target.parentElement.parentElement.children].forEach((e=>{e.dataset.value===o&&(e.dataset.value=0)}))}function f(e){[...e.target.parentElement.children].forEach((e=>e.classList.remove("dragOver"))),[...e.target.parentElement.children].forEach((e=>e.classList.remove("hide"))),e.target.classList.remove("hide")}let x=[];function y(e){return 0==e.dataset.value}function I(e){if("carrier"===o){if(!1===u){if(!(e.target.dataset.y<6))return void e.target.classList.add("invalid");l=e.target.nextElementSibling,c=l.nextElementSibling,d=c.nextElementSibling,A=d.nextElementSibling,x=[e.target,l,c,d,A]}else if(!0===u){if(!(e.target.dataset.x<6))return void e.target.classList.add("invalid");{let t=[...e.target.parentElement.children],n=t.indexOf(e.target);l=t[n+10],c=t[n+20],d=t[n+30],A=t[n+40],x=[e.target,l,c,d,A]}}x!==[]&&x.every(y)?(e.preventDefault(),x.forEach((e=>{e.classList.add("dragOver")}))):e.target.classList.add("invalid")}else if("battleship"===o){if(!1===u){if(!(e.target.dataset.y<7))return void e.target.classList.add("invalid");l=e.target.nextElementSibling,c=l.nextElementSibling,d=c.nextElementSibling,x=[e.target,l,c,d]}else if(!0===u){if(!(e.target.dataset.x<7))return void e.target.classList.add("invalid");{let t=[...e.target.parentElement.children],n=t.indexOf(e.target);l=t[n+10],c=t[n+20],d=t[n+30],x=[e.target,l,c,d]}}x!==[]&&x.every(y)?(e.preventDefault(),x.forEach((e=>{e.classList.add("dragOver")}))):e.target.classList.add("invalid")}else if("destroyer"===o||"submarine"===o){if(!1===u){if(!(e.target.dataset.y<8))return void e.target.classList.add("invalid");l=e.target.nextElementSibling,c=l.nextElementSibling,x=[e.target,l,c]}else if(!0===u){if(!(e.target.dataset.x<8))return void e.target.classList.add("invalid");{let t=[...e.target.parentElement.children],n=t.indexOf(e.target);l=t[n+10],c=t[n+20],x=[e.target,l,c]}}x!==[]&&x.every(y)?(e.preventDefault(),x.forEach((e=>{e.classList.add("dragOver")}))):e.target.classList.add("invalid")}else if("patrol"===o){if(!1===u){if(!(e.target.dataset.y<9))return void e.target.classList.add("invalid");l=e.target.nextElementSibling,x=[e.target,l]}else if(!0===u){if(!(e.target.dataset.x<9))return void e.target.classList.add("invalid");{let t=[...e.target.parentElement.children],n=t.indexOf(e.target);l=t[n+10],x=[e.target,l]}}x!==[]&&x.every(y)?(e.preventDefault(),x.forEach((e=>{e.classList.add("dragOver")}))):e.target.classList.add("invalid")}}function B(e){I(e)}function E(e){[...e.target.parentElement.children].forEach((e=>e.classList.remove("dragOver"))),[...e.target.parentElement.children].forEach((e=>e.classList.remove("invalid")))}function k(e){[...e.target.parentElement.children].forEach((e=>e.classList.remove("dragOver"))),[...e.target.parentElement.children].forEach((e=>{e.dataset.value===o&&(e.dataset.value=0)}));const t=e.dataTransfer.getData("image"),n=document.getElementById(t);e.target.appendChild(n),n.classList.remove("hide"),x.forEach((e=>{e.dataset.value=t}));let s=document.getElementById(t+"Container");i.contains(s)&&i.removeChild(s),u=!1,h.pub("shipPlaced",e.target),i.hasChildNodes()||(r.style.display="none",a.style.marginRight=0)}function w(e){if(i.children.length>0)t.textContent="Place all of your ships before attacking the enemy.";else{t.textContent="";let n=e.target.dataset.x,a=e.target.dataset.y;h.pub("missileLaunched",[n,a,e.target]),e.target.removeEventListener("click",w)}}})();class x{isVertical=!1;isOperational=!0;isPlaced=!1;constructor(e,t){this.name=e,this.length=t,this.defense=this.buildShip()}buildShip(){let e=[];for(let t=0;t<this.length;t++)e.push("o");return e}hit(e){this.defense.splice(e,1,"x")}isSunk(){return!this.isOperational}}class y{isFleetOperational=!0;carrier=new x("carrier",5);battleship=new x("battleship",4);destroyer=new x("destroyer",3);submarine=new x("submarine",3);patrol=new x("patrol",2);allShips=[this.carrier,this.battleship,this.destroyer,this.submarine,this.patrol];grid=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];placeShip(e,t,n){let a,r=0;if(e.isVertical){a=[];for(let r=t;r<t+e.length;r++){let e=this.grid[r][n];a.push(e)}if(a.every(this.isZero)){let a=0;for(let r=t;r<t+e.length;r++)this.grid[r].fill(e.name+a,n,n+1),a++;e.isPlaced=!0}}else for(;r<e.length;r++)a=this.grid[t].slice(n,n+e.length),a.every(this.isZero)&&(this.grid[t].fill(e.name+r,n,++n),e.isPlaced=!0)}rotateShip(e){!1===e.isVertical?e.isVertical=!0:(ss,e.isVertical=!1)}isZero(e){return 0===e}receiveAttack(e,t,n){0===this.grid[t][n]?this.miss(t,n):(this.allShips.forEach((a=>{let r=this.grid[t][n].slice(0,-1),i=this.grid[t][n].slice(-1);a.name===r&&(a.hit(i),this.isSunk(e,a))})),this.grid[t][n]="x")}miss(e,t){this.grid[e][t]="-"}isSunk(e,t){if(!t.defense.includes("o")){let n=this.allShips.indexOf(t);this.allShips.splice(n,1);let a=e.name,r=t.name;h.pub("shipSunk",{name:a,shipName:r}),this.isFleetSunk(a)}}isFleetSunk(e){this.allShips.every((e=>!1===e.isOperational))&&(this.isFleetOperatioanl=!1,h.pub("gameOver",e))}}class I{constructor(e){this.name=e}fleet=new y;attack(e,t,n){e.fleet.receiveAttack(e,t,n)}aiAttack(e){let t=this.getCoordinates();0===e.fleet.grid[t[0]][t[1]]?e.fleet.receiveAttack(e,[t[0]],[t[1]]):this.aiAttack(e)}getCoordinates(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}}(()=>{let e,t;function n(){let r=a(),i=a();"x"!==e.fleet.grid[r][i]&&"-"!==e.fleet.grid[r][i]?(t.attack(e,r,i),h.pub("strikeBack",[e,r,i])):n()}function a(e){let t=Math.floor(10*Math.random()),n=e||1;return t>10-n&&(t=10-n),t}h.sub("newGame",(function(){e=new I("user"),t=new I("computer");const n={p1:e,p2:t};return(r=t).fleet.allShips.forEach((e=>{for(;!e.isPlaced;){let t=[!0,!1];e.isVertical=t[Math.floor(Math.random()*t.length)];let n=a(e.length),i=a(e.length);r.fleet.placeShip(e,n,i)}})),console.log(r.fleet.grid),h.pub("gameCreated",n),t;var r})),h.sub("missileLaunched",(function(a){e.attack(t,a[0],a[1]);let r=t.fleet.grid[a[0]][a[1]];h.pub("missileStrike",[a[2],r]),t.fleet.isFleetOperational&&n()})),h.sub("rotateShip",(function(t){e.fleet.allShips.forEach((e=>{e.name===t&&(e.isVertical=!e.isVertical)}))})),h.sub("shipPlaced",(function(t){let n;e.fleet.allShips.forEach((e=>{t.dataset.value===e.name&&(n=e)}));let a=parseInt(t.dataset.x),r=parseInt(t.dataset.y);e.fleet.placeShip(n,a,r)}))})()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUhBSUlBLEVBQWdDLElBQUlDLElBQUksV0FDeENDLEVBQWdDLElBQUlELElBQUksWUFDeENFLEVBQWdDLElBQUlGLElBQUksWUFDeENHLEVBQWdDLElBQUlILElBQUksWUFDeENJLEVBQTBCLElBQTRCLEtBQ3REQyxFQUFxQyxJQUFnQ04sR0FDckVPLEVBQXFDLElBQWdDTCxHQUNyRU0sRUFBcUMsSUFBZ0NMLEdBQ3JFTSxFQUFxQyxJQUFnQ0wsR0FFekVDLEVBQXdCSyxLQUFLLENBQUNDLEVBQU9DLEdBQUksc0VBQXdFTixFQUFxQyxteURBQXF5REMsRUFBcUMsMk9BQTZPQyxFQUFxQyx5SEFBMkhDLEVBQXFDLHlCQUEwQixHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQyxrQ0FBa0MsTUFBUSxHQUFHLFNBQVcscWpDQUFxakMsZUFBaUIsQ0FBQyx5eUVBQXl5RSxXQUFhLE1BRTUzTCxXLFFDVkFFLEVBQU9FLFFBQVUsU0FBVUMsR0FDekIsSUFBSUMsRUFBTyxHQTZGWCxPQTNGQUEsRUFBS0MsU0FBVyxXQUNkLE9BQU9DLEtBQUtDLEtBQUksU0FBVUMsR0FDeEIsSUFBSUMsRUFBVSxHQUNWQyxPQUErQixJQUFaRixFQUFLLEdBNEI1QixPQTFCSUEsRUFBSyxLQUNQQyxHQUFXLGNBQWNFLE9BQU9ILEVBQUssR0FBSSxRQUd2Q0EsRUFBSyxLQUNQQyxHQUFXLFVBQVVFLE9BQU9ILEVBQUssR0FBSSxPQUduQ0UsSUFDRkQsR0FBVyxTQUFTRSxPQUFPSCxFQUFLLEdBQUdJLE9BQVMsRUFBSSxJQUFJRCxPQUFPSCxFQUFLLElBQU0sR0FBSSxPQUc1RUMsR0FBV04sRUFBdUJLLEdBRTlCRSxJQUNGRCxHQUFXLEtBR1RELEVBQUssS0FDUEMsR0FBVyxLQUdURCxFQUFLLEtBQ1BDLEdBQVcsS0FHTkEsS0FDTkksS0FBSyxLQUlWVCxFQUFLVSxFQUFJLFNBQVdDLEVBQVNDLEVBQU9DLEVBQVFDLEVBQVVDLEdBQzdCLGlCQUFaSixJQUNUQSxFQUFVLENBQUMsQ0FBQyxLQUFNQSxPQUFTSyxLQUc3QixJQUFJQyxFQUF5QixHQUU3QixHQUFJSixFQUNGLElBQUssSUFBSUssRUFBSSxFQUFHQSxFQUFJaEIsS0FBS00sT0FBUVUsSUFBSyxDQUNwQyxJQUFJckIsRUFBS0ssS0FBS2dCLEdBQUcsR0FFUCxNQUFOckIsSUFDRm9CLEVBQXVCcEIsSUFBTSxHQUtuQyxJQUFLLElBQUlzQixFQUFLLEVBQUdBLEVBQUtSLEVBQVFILE9BQVFXLElBQU0sQ0FDMUMsSUFBSWYsRUFBTyxHQUFHRyxPQUFPSSxFQUFRUSxJQUV6Qk4sR0FBVUksRUFBdUJiLEVBQUssV0FJckIsSUFBVlcsU0FDYyxJQUFaWCxFQUFLLEtBR2RBLEVBQUssR0FBSyxTQUFTRyxPQUFPSCxFQUFLLEdBQUdJLE9BQVMsRUFBSSxJQUFJRCxPQUFPSCxFQUFLLElBQU0sR0FBSSxNQUFNRyxPQUFPSCxFQUFLLEdBQUksTUFGL0ZBLEVBQUssR0FBS1csR0FPVkgsSUFDR1IsRUFBSyxJQUdSQSxFQUFLLEdBQUssVUFBVUcsT0FBT0gsRUFBSyxHQUFJLE1BQU1HLE9BQU9ILEVBQUssR0FBSSxLQUMxREEsRUFBSyxHQUFLUSxHQUhWUixFQUFLLEdBQUtRLEdBT1ZFLElBQ0dWLEVBQUssSUFHUkEsRUFBSyxHQUFLLGNBQWNHLE9BQU9ILEVBQUssR0FBSSxPQUFPRyxPQUFPSCxFQUFLLEdBQUksS0FDL0RBLEVBQUssR0FBS1UsR0FIVlYsRUFBSyxHQUFLLEdBQUdHLE9BQU9PLElBT3hCZCxFQUFLTCxLQUFLUyxNQUlQSixJLFFDbEdUSixFQUFPRSxRQUFVLFNBQVVzQixFQUFLQyxHQUs5QixPQUpLQSxJQUNIQSxFQUFVLElBR1BELEdBSUxBLEVBQU1FLE9BQU9GLEVBQUlHLFdBQWFILEVBQUlJLFFBQVVKLEdBRXhDLGVBQWVLLEtBQUtMLEtBQ3RCQSxFQUFNQSxFQUFJTSxNQUFNLEdBQUksSUFHbEJMLEVBQVFNLE9BQ1ZQLEdBQU9DLEVBQVFNLE1BS2Isb0JBQW9CRixLQUFLTCxJQUFRQyxFQUFRTyxXQUNwQyxJQUFLckIsT0FBT2EsRUFBSVMsUUFBUSxLQUFNLE9BQU9BLFFBQVEsTUFBTyxPQUFRLEtBRzlEVCxHQW5CRUEsSSxRQ05YeEIsRUFBT0UsUUFBVSxTQUFVTSxHQUN6QixJQUFJQyxFQUFVRCxFQUFLLEdBQ2YwQixFQUFhMUIsRUFBSyxHQUV0QixJQUFLMEIsRUFDSCxPQUFPekIsRUFHVCxHQUFvQixtQkFBVDBCLEtBQXFCLENBQzlCLElBQUlDLEVBQVNELEtBQUtFLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVU4sTUFDekRPLEVBQU8sK0RBQStEOUIsT0FBT3lCLEdBQzdFTSxFQUFnQixPQUFPL0IsT0FBTzhCLEVBQU0sT0FDcENFLEVBQWFULEVBQVdVLFFBQVFyQyxLQUFJLFNBQVVzQyxHQUNoRCxNQUFPLGlCQUFpQmxDLE9BQU91QixFQUFXWSxZQUFjLElBQUluQyxPQUFPa0MsRUFBUSxVQUU3RSxNQUFPLENBQUNwQyxHQUFTRSxPQUFPZ0MsR0FBWWhDLE9BQU8sQ0FBQytCLElBQWdCN0IsS0FBSyxNQUduRSxNQUFPLENBQUNKLEdBQVNJLEtBQUssUSxRQ2xCeEIsSUFBSWtDLEVBQWMsR0FFbEIsU0FBU0MsRUFBcUJDLEdBRzVCLElBRkEsSUFBSUMsR0FBVSxFQUVMcEMsRUFBSSxFQUFHQSxFQUFJaUMsRUFBWW5DLE9BQVFFLElBQ3RDLEdBQUlpQyxFQUFZakMsR0FBR21DLGFBQWVBLEVBQVksQ0FDNUNDLEVBQVNwQyxFQUNULE1BSUosT0FBT29DLEVBR1QsU0FBU0MsRUFBYS9DLEVBQU1xQixHQUkxQixJQUhBLElBQUkyQixFQUFhLEdBQ2JDLEVBQWMsR0FFVHZDLEVBQUksRUFBR0EsRUFBSVYsRUFBS1EsT0FBUUUsSUFBSyxDQUNwQyxJQUFJTixFQUFPSixFQUFLVSxHQUNaYixFQUFLd0IsRUFBUTZCLEtBQU85QyxFQUFLLEdBQUtpQixFQUFRNkIsS0FBTzlDLEVBQUssR0FDbEQrQyxFQUFRSCxFQUFXbkQsSUFBTyxFQUMxQmdELEVBQWEsR0FBR3RDLE9BQU9WLEVBQUksS0FBS1UsT0FBTzRDLEdBQzNDSCxFQUFXbkQsR0FBTXNELEVBQVEsRUFDekIsSUFBSUMsRUFBb0JSLEVBQXFCQyxHQUN6Q1EsRUFBTSxDQUNSQyxJQUFLbEQsRUFBSyxHQUNWUSxNQUFPUixFQUFLLEdBQ1ptRCxVQUFXbkQsRUFBSyxHQUNoQlUsU0FBVVYsRUFBSyxHQUNmVyxNQUFPWCxFQUFLLElBR2QsSUFBMkIsSUFBdkJnRCxFQUNGVCxFQUFZUyxHQUFtQkksYUFDL0JiLEVBQVlTLEdBQW1CSyxRQUFRSixPQUNsQyxDQUNMLElBQUlJLEVBQVVDLEVBQWdCTCxFQUFLaEMsR0FDbkNBLEVBQVFzQyxRQUFVakQsRUFDbEJpQyxFQUFZaUIsT0FBT2xELEVBQUcsRUFBRyxDQUN2Qm1DLFdBQVlBLEVBQ1pZLFFBQVNBLEVBQ1RELFdBQVksSUFJaEJQLEVBQVl0RCxLQUFLa0QsR0FHbkIsT0FBT0ksRUFHVCxTQUFTUyxFQUFnQkwsRUFBS2hDLEdBQzVCLElBQUl3QyxFQUFNeEMsRUFBUXlDLE9BQU96QyxHQWV6QixPQWRBd0MsRUFBSUUsT0FBT1YsR0FFRyxTQUFpQlcsR0FDN0IsR0FBSUEsRUFBUSxDQUNWLEdBQUlBLEVBQU9WLE1BQVFELEVBQUlDLEtBQU9VLEVBQU9wRCxRQUFVeUMsRUFBSXpDLE9BQVNvRCxFQUFPVCxZQUFjRixFQUFJRSxXQUFhUyxFQUFPbEQsV0FBYXVDLEVBQUl2QyxVQUFZa0QsRUFBT2pELFFBQVVzQyxFQUFJdEMsTUFDekosT0FHRjhDLEVBQUlFLE9BQU9WLEVBQU1XLFFBRWpCSCxFQUFJSSxVQU9WckUsRUFBT0UsUUFBVSxTQUFVRSxFQUFNcUIsR0FHL0IsSUFBSTZDLEVBQWtCbkIsRUFEdEIvQyxFQUFPQSxHQUFRLEdBRGZxQixFQUFVQSxHQUFXLElBR3JCLE9BQU8sU0FBZ0I4QyxHQUNyQkEsRUFBVUEsR0FBVyxHQUVyQixJQUFLLElBQUl6RCxFQUFJLEVBQUdBLEVBQUl3RCxFQUFnQjFELE9BQVFFLElBQUssQ0FDL0MsSUFDSTBELEVBQVF4QixFQURLc0IsRUFBZ0J4RCxJQUVqQ2lDLEVBQVl5QixHQUFPWixhQUtyQixJQUZBLElBQUlhLEVBQXFCdEIsRUFBYW9CLEVBQVM5QyxHQUV0Q2lELEVBQUssRUFBR0EsRUFBS0osRUFBZ0IxRCxPQUFROEQsSUFBTSxDQUNsRCxJQUVJQyxFQUFTM0IsRUFGS3NCLEVBQWdCSSxJQUlLLElBQW5DM0IsRUFBWTRCLEdBQVFmLGFBQ3RCYixFQUFZNEIsR0FBUWQsVUFFcEJkLEVBQVlpQixPQUFPVyxFQUFRLElBSS9CTCxFQUFrQkcsSyxRQ25HdEIsSUFBSUcsRUFBTyxHQW9DWDVFLEVBQU9FLFFBVlAsU0FBMEIyRSxFQUFRQyxHQUNoQyxJQUFJQyxFQXhCTixTQUFtQkEsR0FDakIsUUFBNEIsSUFBakJILEVBQUtHLEdBQXlCLENBQ3ZDLElBQUlDLEVBQWNDLFNBQVNDLGNBQWNILEdBRXpDLEdBQUlJLE9BQU9DLG1CQUFxQkosYUFBdUJHLE9BQU9DLGtCQUM1RCxJQUdFSixFQUFjQSxFQUFZSyxnQkFBZ0JDLEtBQzFDLE1BQU9DLEdBRVBQLEVBQWMsS0FJbEJKLEVBQUtHLEdBQVVDLEVBR2pCLE9BQU9KLEVBQUtHLEdBTUNTLENBQVVYLEdBRXZCLElBQUtFLEVBQ0gsTUFBTSxJQUFJVSxNQUFNLDJHQUdsQlYsRUFBT1csWUFBWVosSyxRQ3pCckI5RSxFQUFPRSxRQVBQLFNBQTRCdUIsR0FDMUIsSUFBSWtFLEVBQVVWLFNBQVNXLGNBQWMsU0FHckMsT0FGQW5FLEVBQVFvRSxjQUFjRixFQUFTbEUsRUFBUXFFLFlBQ3ZDckUsRUFBUW9ELE9BQU9jLEVBQVNsRSxFQUFRQSxTQUN6QmtFLEksY0NJVDNGLEVBQU9FLFFBUlAsU0FBd0M2RixHQUN0QyxJQUFJQyxFQUFtRCxLQUVuREEsR0FDRkQsRUFBYUUsYUFBYSxRQUFTRCxLLFFDOER2Q2hHLEVBQU9FLFFBWlAsU0FBZ0J1QixHQUNkLElBQUlzRSxFQUFldEUsRUFBUXlFLG1CQUFtQnpFLEdBQzlDLE1BQU8sQ0FDTDBDLE9BQVEsU0FBZ0JWLElBekQ1QixTQUFlc0MsRUFBY3RFLEVBQVNnQyxHQUNwQyxJQUFJQyxFQUFNLEdBRU5ELEVBQUl2QyxXQUNOd0MsR0FBTyxjQUFjL0MsT0FBTzhDLEVBQUl2QyxTQUFVLFFBR3hDdUMsRUFBSXpDLFFBQ04wQyxHQUFPLFVBQVUvQyxPQUFPOEMsRUFBSXpDLE1BQU8sT0FHckMsSUFBSU4sT0FBaUMsSUFBZCtDLEVBQUl0QyxNQUV2QlQsSUFDRmdELEdBQU8sU0FBUy9DLE9BQU84QyxFQUFJdEMsTUFBTVAsT0FBUyxFQUFJLElBQUlELE9BQU84QyxFQUFJdEMsT0FBUyxHQUFJLE9BRzVFdUMsR0FBT0QsRUFBSUMsSUFFUGhELElBQ0ZnRCxHQUFPLEtBR0xELEVBQUl6QyxRQUNOMEMsR0FBTyxLQUdMRCxFQUFJdkMsV0FDTndDLEdBQU8sS0FHVCxJQUFJQyxFQUFZRixFQUFJRSxVQUVoQkEsR0FBNkIsb0JBQVR4QixPQUN0QnVCLEdBQU8sdURBQXVEL0MsT0FBT3dCLEtBQUtFLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVW1CLE1BQWUsUUFNdElsQyxFQUFRMEUsa0JBQWtCekMsRUFBS3FDLEVBQWN0RSxFQUFRQSxTQWtCakQyRSxDQUFNTCxFQUFjdEUsRUFBU2dDLElBRS9CWSxPQUFRLFlBakJaLFNBQTRCMEIsR0FFMUIsR0FBZ0MsT0FBNUJBLEVBQWFNLFdBQ2YsT0FBTyxFQUdUTixFQUFhTSxXQUFXQyxZQUFZUCxHQVloQ1EsQ0FBbUJSLE8sUUNqRHpCL0YsRUFBT0UsUUFaUCxTQUEyQndELEVBQUtxQyxHQUM5QixHQUFJQSxFQUFhUyxXQUNmVCxFQUFhUyxXQUFXQyxRQUFVL0MsTUFDN0IsQ0FDTCxLQUFPcUMsRUFBYVcsWUFDbEJYLEVBQWFPLFlBQVlQLEVBQWFXLFlBR3hDWCxFQUFhTCxZQUFZVCxTQUFTMEIsZUFBZWpELE8saU9DVmpEa0QsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQjFGLElBQWpCMkYsRUFDSCxPQUFPQSxFQUFhN0csUUFHckIsSUFBSUYsRUFBUzRHLEVBQXlCRSxHQUFZLENBQ2pEN0csR0FBSTZHLEVBRUo1RyxRQUFTLElBT1YsT0FIQThHLEVBQW9CRixHQUFVOUcsRUFBUUEsRUFBT0UsUUFBUzJHLEdBRy9DN0csRUFBT0UsUUFJZjJHLEVBQW9CSSxFQUFJRCxFQ3hCeEJILEVBQW9CSyxFQUFLbEgsSUFDeEIsSUFBSW1ILEVBQVNuSCxHQUFVQSxFQUFPMkIsV0FDN0IsSUFBTzNCLEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBNkcsRUFBb0JPLEVBQUVELEVBQVEsQ0FBRUUsRUFBR0YsSUFDNUJBLEdDTFJOLEVBQW9CTyxFQUFJLENBQUNsSCxFQUFTb0gsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYVCxFQUFvQlcsRUFBRUYsRUFBWUMsS0FBU1YsRUFBb0JXLEVBQUV0SCxFQUFTcUgsSUFDNUVFLE9BQU9DLGVBQWV4SCxFQUFTcUgsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFVixFQUFvQmdCLEVBQUksV0FDdkIsR0FBMEIsaUJBQWZDLFdBQXlCLE9BQU9BLFdBQzNDLElBQ0MsT0FBT3hILE1BQVEsSUFBSXlILFNBQVMsY0FBYixHQUNkLE1BQU94QyxHQUNSLEdBQXNCLGlCQUFYSixPQUFxQixPQUFPQSxRQUxqQixHQ0F4QjBCLEVBQW9CVyxFQUFJLENBQUMvRCxFQUFLdUUsSUFBVVAsT0FBT1EsVUFBVUMsZUFBZUMsS0FBSzFFLEVBQUt1RSxHLE1DQWxGLElBQUlJLEVBQ0F2QixFQUFvQmdCLEVBQUVRLGdCQUFlRCxFQUFZdkIsRUFBb0JnQixFQUFFUyxTQUFXLElBQ3RGLElBQUlyRCxFQUFXNEIsRUFBb0JnQixFQUFFNUMsU0FDckMsSUFBS21ELEdBQWFuRCxJQUNiQSxFQUFTc0QsZ0JBQ1pILEVBQVluRCxFQUFTc0QsY0FBY0MsTUFDL0JKLEdBQVcsQ0FDZixJQUFJSyxFQUFVeEQsRUFBU3lELHFCQUFxQixVQUN6Q0QsRUFBUTdILFNBQVF3SCxFQUFZSyxFQUFRQSxFQUFRN0gsT0FBUyxHQUFHNEgsS0FLN0QsSUFBS0osRUFBVyxNQUFNLElBQUkzQyxNQUFNLHlEQUNoQzJDLEVBQVlBLEVBQVVuRyxRQUFRLE9BQVEsSUFBSUEsUUFBUSxRQUFTLElBQUlBLFFBQVEsWUFBYSxLQUNwRjRFLEVBQW9COEIsRUFBSVAsRyxHQ2Z4QnZCLEVBQW9CK0IsRUFBSTNELFNBQVM0RCxTQUFXQyxLQUFLUixTQUFTUyxLQ0ExRGxDLEVBQW9CbUMsUUFBSzVILEUsK0hDV3JCSyxFQUFVLEdBRWRBLEVBQVEwRSxrQkFBb0IsSUFDNUIxRSxFQUFRb0UsY0FBZ0IsSUFFbEJwRSxFQUFRb0QsT0FBUyxTQUFjLEtBQU0sUUFFM0NwRCxFQUFReUMsT0FBUyxJQUNqQnpDLEVBQVF5RSxtQkFBcUIsSUFFaEIsSUFBSSxJQUFTekUsR0FLSixLQUFXLFlBQWlCLFdBQTNDLE1DMUJNd0gsRUFBUyxDQUNsQkEsT0FBUSxHQUNSQyxJQUFLLFNBQVNDLEVBQWNDLEdBQ3hCOUksS0FBSzJJLE9BQU9FLEdBQWdCN0ksS0FBSzJJLE9BQU9FLElBQWlCLEdBQ3pEN0ksS0FBSzJJLE9BQU9FLEdBQWNwSixLQUFLcUosSUFFbkNDLE1BQU8sU0FBU0YsRUFBY0MsR0FDMUIsR0FBSTlJLEtBQUsySSxPQUFPRSxHQUNaLElBQUssSUFBSXJJLEVBQUksRUFBR0EsRUFBSVIsS0FBSzJJLE9BQU9FLEdBQWN2SSxPQUFRRSxJQUN0RCxHQUFJUixLQUFLMkksT0FBT0UsR0FBY3JJLEtBQU9zSSxFQUFJLENBQ3JDOUksS0FBSzJJLE9BQU9FLEdBQWNuRixPQUFPbEQsRUFBRyxHQUNwQyxRQUtad0ksSUFBSyxTQUFVSCxFQUFjMUcsR0FDckJuQyxLQUFLMkksT0FBT0UsSUFDWjdJLEtBQUsySSxPQUFPRSxHQUFjSSxTQUFRLFNBQVNILEdBQzNDQSxFQUFHM0csUSxxS0NaTyxNQUNsQixNQUFNK0csRUFBYXZFLFNBQVN3RSxlQUFlLGNBQ3JDQyxFQUFPekUsU0FBU3dFLGVBQWUsUUFDL0JFLEVBQWMxRSxTQUFTd0UsZUFBZSxlQUN0Q0csRUFBVTNFLFNBQVN3RSxlQUFlLFdBQ2xDSSxFQUFnQjVFLFNBQVN3RSxlQUFlLGlCQUN4Q0ssRUFBUTdFLFNBQVN3RSxlQUFlLFNBQ2hDTSxFQUFTOUUsU0FBU3dFLGVBQWUsVUFXdkMsSUFBSU8sRUFUSlIsRUFBV1MsaUJBQWlCLFNBWTVCLFlBd1dBLFdBQ0ksS0FBTU4sRUFBWWpELFlBQ2RpRCxFQUFZckQsWUFBWXFELEVBQVlqRCxZQUd4QyxLQUFNa0QsRUFBUWxELFlBQ1ZrRCxFQUFRdEQsWUFBWXNELEVBQVFsRCxZQUVoQ2dELEVBQUtRLFlBQWMsSUEvV25CQyxHQUNBWCxFQUFXMUUsTUFBTXNGLFFBQVUsT0FDM0JuQixFQUFPSyxJQUFJLGNBZGZTLEVBQU9FLGlCQUFpQixTQWlGeEIsV0FDSUgsRUFBTXBELFdBQVcyRCxVQUFVQyxPQUFPLFlBQ2xDUixFQUFNcEQsV0FBV0EsV0FBVzJELFVBQVVDLE9BQU8sVUFFN0NDLEdBQVlBLEVBRVp0QixFQUFPSyxJQUFJLGFBQWNRLEVBQU1wRCxXQUFXQSxXQUFXekcsT0FyRnpEZ0osRUFBT0MsSUFBSSxlQWVYLFNBQW9Cc0IsR0FDaEJoQixFQUFXMUUsTUFBTXNGLFFBQVUsT0FDM0JQLEVBQWMvRSxNQUFNc0YsUUFBVSxPQUM5QlQsRUFBWTdFLE1BQU1zRixRQUFVLE9BQzVCUixFQUFROUUsTUFBTXNGLFFBQVUsT0EwQjVCLFNBQTBCSyxHQUN0QixJQUFLLElBQUkzSixFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFDcEIySixFQUFPQyxNQUFNQyxLQUFLN0osR0FBR3lJLFNBQVEsQ0FBQy9JLEVBQU1nRSxLQUNoQyxJQUFJb0csRUFBTzNGLFNBQVNXLGNBQWMsT0FDbENnRixFQUFLQyxVQUFZLE9BQ2pCRCxFQUFLRSxRQUFRQyxFQUFJakssRUFDakI4SixFQUFLRSxRQUFRRSxFQUFJeEcsRUFDakJvRyxFQUFLRSxRQUFRRyxNQUFRekssRUFFckJvSyxFQUFLWCxpQkFBaUIsWUFBYWlCLEdBQ25DTixFQUFLWCxpQkFBaUIsV0FBWWtCLEdBQ2xDUCxFQUFLWCxpQkFBaUIsWUFBYW1CLEdBQ25DUixFQUFLWCxpQkFBaUIsT0FBUW9CLEdBRTlCMUIsRUFBWWpFLFlBQVlrRixNQXRDaENVLENBQWlCZCxFQUFRZSxJQTJDN0IsU0FBNEJkLEdBQ3hCLElBQUssSUFBSTNKLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUNwQjJKLEVBQU9DLE1BQU1DLEtBQUs3SixHQUFHeUksU0FBUSxDQUFDL0ksRUFBTWdFLEtBQ2hDLElBQUlvRyxFQUFPM0YsU0FBU1csY0FBYyxPQUNsQ2dGLEVBQUtDLFVBQVksT0FDakJELEVBQUtFLFFBQVFDLEVBQUlqSyxFQUNqQjhKLEVBQUtFLFFBQVFFLEVBQUl4RyxFQUNqQm9HLEVBQUtFLFFBQVFHLE1BQVEsRUFFckJyQixFQUFRbEUsWUFBWWtGLEdBQ3BCQSxFQUFLWCxpQkFBaUIsUUFBU3VCLE1BcER2Q0MsQ0FBbUJqQixFQUFRa0IsSUFJL0IsU0FBcUJqQixHQUNqQixNQUFNa0IsRUFBWSxDQUFDLEVBQVMsRUFBWSxFQUFXLEVBQVcsR0FDOUQsSUFBSTdLLEVBQUksRUFDUjJKLEVBQU9DLE1BQU1rQixTQUFTckMsU0FBUXNDLElBQzFCLE1BQU1DLEVBQU03RyxTQUFTVyxjQUFjLE9BQ25Da0csRUFBSTdMLEdBQUs0TCxFQUFLRSxLQUFPLFlBQ3JCLE1BQU1DLEVBQVEsSUFBSUMsTUFDbEJELEVBQU14RCxJQUFNbUQsRUFBVTdLLEdBQ3RCa0wsRUFBTS9MLEdBQUs0TCxFQUFLRSxLQUNoQkMsRUFBTW5CLFVBQVksT0FDbEJtQixFQUFNRSxXQUFZLEVBQ2xCRixFQUFNL0IsaUJBQWlCLFlBQWFrQyxHQUNwQ0gsRUFBTS9CLGlCQUFpQixVQUFXbUMsR0FDbENOLEVBQUlwRyxZQUFZc0csR0FDaEJsQyxFQUFNcEUsWUFBWW9HLEdBQ2xCaEwsT0FsQkp1TCxDQUFZN0IsRUFBUWUsT0F0QnhCdEMsRUFBT0MsSUFBSSxpQkF1VVgsU0FBNkJuRSxHQUN6QkEsRUFBTyxHQUFHK0YsUUFBUUcsTUFBUWxHLEVBQU8sTUF2VXJDa0UsRUFBT0MsSUFBSSxjQTBVWCxTQUEwQlosR0FDdEIsSUFBSXlDLEVBQUl6QyxFQUFTLEdBQ2IwQyxFQUFJMUMsRUFBUyxHQUVqQixJQUFJcUIsRUFBWTJDLFVBQVUvQyxTQUFRcUIsSUFDMUJBLEVBQUtFLFFBQVFDLEdBQUtBLEdBQUtILEVBQUtFLFFBQVFFLEdBQUtBLElBQ0osTUFBakMxQyxFQUFTLEdBQUdvQyxNQUFNQyxLQUFLSSxHQUFHQyxHQUMxQkosRUFBS0UsUUFBUUcsTUFBUSxJQUVyQkwsRUFBS0UsUUFBUUcsTUFBUSxXQWxWckNoQyxFQUFPQyxJQUFJLFlBeVZYLFNBQXVCdUIsR0FDQyxhQUFoQkEsRUFBT3NCLEtBQ1ByQyxFQUFLUSxZQUFjLGlDQUFpQ08sRUFBTzhCLFlBRTNEN0MsRUFBS1EsWUFBYyxRQUFRTyxFQUFPOEIsd0JBNVYxQ3RELEVBQU9DLElBQUksWUFnV1gsU0FBa0J1QixHQUNkLElBQUliLEVBQVEwQyxVQUFVL0MsU0FBUWlELEdBQVdBLEVBQVFDLG9CQUFvQixRQUFTakIsS0FHMUU5QixFQUFLUSxZQURNLGFBQVhPLEVBQ21CLDZDQUVBLGtDQUd2QmpCLEVBQVcxRSxNQUFNc0YsUUFBVSxRQUMzQlIsRUFBUTlFLE1BQU00SCxZQUFjLFdBdldoQyxJQW9HSUMsRUFDQUMsRUFDQUMsRUFDQUMsRUF2R0F2QyxHQUFXLEVBaUZmLFNBQVM0QixFQUFVNUcsR0FDZnlFLEVBQWF6RSxFQUFFUixPQUFPOUUsR0FDdEJzRixFQUFFd0gsYUFBYUMsUUFBUSxRQUFTekgsRUFBRVIsT0FBTzlFLElBQ3pDZ04sWUFBVyxLQUNQMUgsRUFBRVIsT0FBT3NGLFVBQVU2QyxJQUFJLFdBRTNCLElBQUkzSCxFQUFFUixPQUFPb0ksY0FBY0EsY0FBY2IsVUFBVS9DLFNBQVFpRCxJQUNuREEsRUFBUTFCLFFBQVFHLFFBQVVqQixJQUMxQndDLEVBQVExQixRQUFRRyxNQUFRLE1BS3BDLFNBQVNtQixFQUFRN0csR0FDYixJQUFJQSxFQUFFUixPQUFPb0ksY0FBY2IsVUFBVS9DLFNBQVFpRCxHQUFXQSxFQUFRbkMsVUFBVWhHLE9BQU8sY0FDakYsSUFBSWtCLEVBQUVSLE9BQU9vSSxjQUFjYixVQUFVL0MsU0FBUWlELEdBQVdBLEVBQVFuQyxVQUFVaEcsT0FBTyxVQUNqRmtCLEVBQUVSLE9BQU9zRixVQUFVaEcsT0FBTyxRQU85QixJQUFJK0ksRUFBYSxHQUVqQixTQUFTQyxFQUFVQyxHQUNmLE9BQTJCLEdBQXBCQSxFQUFHeEMsUUFBUUcsTUFHdEIsU0FBU0MsRUFBVTNGLEdBRWYsR0FBbUIsWUFBZnlFLEVBQTBCLENBRTFCLElBQWlCLElBQWJPLEVBQW9CLENBQ3BCLEtBQUloRixFQUFFUixPQUFPK0YsUUFBUUUsRUFBSSxHQVFyQixZQURBekYsRUFBRVIsT0FBT3NGLFVBQVU2QyxJQUFJLFdBTnZCUCxFQUFlcEgsRUFBRVIsT0FBT3dJLG1CQUN4QlgsRUFBZ0JELEVBQWFZLG1CQUM3QlYsRUFBZUQsRUFBY1csbUJBQzdCVCxFQUFnQkQsRUFBYVUsbUJBQzdCSCxFQUFhLENBQUM3SCxFQUFFUixPQUFRNEgsRUFBY0MsRUFBZUMsRUFBY0MsUUFNcEUsSUFBaUIsSUFBYnZDLEVBQW1CLENBQzFCLEtBQUtoRixFQUFFUixPQUFPK0YsUUFBUUMsRUFBSSxHQVl0QixZQURBeEYsRUFBRVIsT0FBT3NGLFVBQVU2QyxJQUFJLFdBWEUsQ0FFekIsSUFBSU0sRUFBUSxJQUFJakksRUFBRVIsT0FBT29JLGNBQWNiLFVBQ25DOUgsRUFBUWdKLEVBQU1DLFFBQVFsSSxFQUFFUixRQUU1QjRILEVBQWVhLEVBQU1oSixFQUFRLElBQzdCb0ksRUFBZ0JZLEVBQU1oSixFQUFRLElBQzlCcUksRUFBZVcsRUFBTWhKLEVBQVEsSUFDN0JzSSxFQUFnQlUsRUFBTWhKLEVBQVEsSUFDOUI0SSxFQUFhLENBQUM3SCxFQUFFUixPQUFRNEgsRUFBY0MsRUFBZUMsRUFBY0MsSUFPdkVNLElBQWUsSUFBTUEsRUFBV00sTUFBTUwsSUFDdEM5SCxFQUFFb0ksaUJBQ0ZQLEVBQVc3RCxTQUFReEUsSUFDZkEsRUFBT3NGLFVBQVU2QyxJQUFJLGdCQUd6QjNILEVBQUVSLE9BQU9zRixVQUFVNkMsSUFBSSxnQkFFeEIsR0FBbUIsZUFBZmxELEVBQTZCLENBRXBDLElBQWlCLElBQWJPLEVBQW9CLENBQ3BCLEtBQUloRixFQUFFUixPQUFPK0YsUUFBUUUsRUFBSSxHQU9yQixZQURBekYsRUFBRVIsT0FBT3NGLFVBQVU2QyxJQUFJLFdBTHZCUCxFQUFlcEgsRUFBRVIsT0FBT3dJLG1CQUN4QlgsRUFBZ0JELEVBQWFZLG1CQUM3QlYsRUFBZUQsRUFBY1csbUJBQzdCSCxFQUFhLENBQUM3SCxFQUFFUixPQUFRNEgsRUFBY0MsRUFBZUMsUUFNdEQsSUFBaUIsSUFBYnRDLEVBQW1CLENBQzFCLEtBQUtoRixFQUFFUixPQUFPK0YsUUFBUUMsRUFBSSxHQVd0QixZQURBeEYsRUFBRVIsT0FBT3NGLFVBQVU2QyxJQUFJLFdBVkUsQ0FFekIsSUFBSU0sRUFBUSxJQUFJakksRUFBRVIsT0FBT29JLGNBQWNiLFVBQ25DOUgsRUFBUWdKLEVBQU1DLFFBQVFsSSxFQUFFUixRQUU1QjRILEVBQWVhLEVBQU1oSixFQUFRLElBQzdCb0ksRUFBZ0JZLEVBQU1oSixFQUFRLElBQzlCcUksRUFBZVcsRUFBTWhKLEVBQVEsSUFDN0I0SSxFQUFhLENBQUM3SCxFQUFFUixPQUFRNEgsRUFBY0MsRUFBZUMsSUFPekRPLElBQWUsSUFBTUEsRUFBV00sTUFBTUwsSUFDdEM5SCxFQUFFb0ksaUJBQ0ZQLEVBQVc3RCxTQUFReEUsSUFDZkEsRUFBT3NGLFVBQVU2QyxJQUFJLGdCQUd6QjNILEVBQUVSLE9BQU9zRixVQUFVNkMsSUFBSSxnQkFHeEIsR0FBbUIsY0FBZmxELEdBQTZDLGNBQWZBLEVBQTRCLENBRWpFLElBQWlCLElBQWJPLEVBQW9CLENBQ3BCLEtBQUloRixFQUFFUixPQUFPK0YsUUFBUUUsRUFBSSxHQU1yQixZQURBekYsRUFBRVIsT0FBT3NGLFVBQVU2QyxJQUFJLFdBSnZCUCxFQUFlcEgsRUFBRVIsT0FBT3dJLG1CQUN4QlgsRUFBZ0JELEVBQWFZLG1CQUM3QkgsRUFBYSxDQUFDN0gsRUFBRVIsT0FBUTRILEVBQWNDLFFBTXZDLElBQWlCLElBQWJyQyxFQUFtQixDQUMxQixLQUFLaEYsRUFBRVIsT0FBTytGLFFBQVFDLEVBQUksR0FVdEIsWUFEQXhGLEVBQUVSLE9BQU9zRixVQUFVNkMsSUFBSSxXQVRFLENBRXpCLElBQUlNLEVBQVEsSUFBSWpJLEVBQUVSLE9BQU9vSSxjQUFjYixVQUNuQzlILEVBQVFnSixFQUFNQyxRQUFRbEksRUFBRVIsUUFFNUI0SCxFQUFlYSxFQUFNaEosRUFBUSxJQUM3Qm9JLEVBQWdCWSxFQUFNaEosRUFBUSxJQUM5QjRJLEVBQWEsQ0FBQzdILEVBQUVSLE9BQVE0SCxFQUFjQyxJQU8xQ1EsSUFBZSxJQUFNQSxFQUFXTSxNQUFNTCxJQUN0QzlILEVBQUVvSSxpQkFDRlAsRUFBVzdELFNBQVF4RSxJQUNmQSxFQUFPc0YsVUFBVTZDLElBQUksZ0JBR3pCM0gsRUFBRVIsT0FBT3NGLFVBQVU2QyxJQUFJLGdCQUd4QixHQUFtQixXQUFmbEQsRUFBeUIsQ0FDaEMsSUFBaUIsSUFBYk8sRUFBb0IsQ0FDcEIsS0FBSWhGLEVBQUVSLE9BQU8rRixRQUFRRSxFQUFJLEdBS3JCLFlBREF6RixFQUFFUixPQUFPc0YsVUFBVTZDLElBQUksV0FIdkJQLEVBQWVwSCxFQUFFUixPQUFPd0ksbUJBQ3hCSCxFQUFhLENBQUM3SCxFQUFFUixPQUFRNEgsUUFNekIsSUFBaUIsSUFBYnBDLEVBQW1CLENBRTFCLEtBQUtoRixFQUFFUixPQUFPK0YsUUFBUUMsRUFBSSxHQVN0QixZQURBeEYsRUFBRVIsT0FBT3NGLFVBQVU2QyxJQUFJLFdBUkUsQ0FFekIsSUFBSU0sRUFBUSxJQUFJakksRUFBRVIsT0FBT29JLGNBQWNiLFVBQ25DOUgsRUFBUWdKLEVBQU1DLFFBQVFsSSxFQUFFUixRQUU1QjRILEVBQWVhLEVBQU1oSixFQUFRLElBQzdCNEksRUFBYSxDQUFDN0gsRUFBRVIsT0FBUTRILElBTzVCUyxJQUFlLElBQU1BLEVBQVdNLE1BQU1MLElBQ3RDOUgsRUFBRW9JLGlCQUNGUCxFQUFXN0QsU0FBUXhFLElBQ2ZBLEVBQU9zRixVQUFVNkMsSUFBSSxnQkFHekIzSCxFQUFFUixPQUFPc0YsVUFBVTZDLElBQUksWUFLbkMsU0FBUy9CLEVBQVM1RixHQUNkMkYsRUFBVTNGLEdBR2QsU0FBUzZGLEVBQVU3RixHQUNmLElBQUlBLEVBQUVSLE9BQU9vSSxjQUFjYixVQUFVL0MsU0FBUWlELEdBQVdBLEVBQVFuQyxVQUFVaEcsT0FBTyxjQUNqRixJQUFJa0IsRUFBRVIsT0FBT29JLGNBQWNiLFVBQVUvQyxTQUFRaUQsR0FBV0EsRUFBUW5DLFVBQVVoRyxPQUFPLGFBR3JGLFNBQVNnSCxFQUFLOUYsR0FDVixJQUFJQSxFQUFFUixPQUFPb0ksY0FBY2IsVUFBVS9DLFNBQVFpRCxHQUFXQSxFQUFRbkMsVUFBVWhHLE9BQU8sY0FDakYsSUFBSWtCLEVBQUVSLE9BQU9vSSxjQUFjYixVQUFVL0MsU0FBUWlELElBQ3JDQSxFQUFRMUIsUUFBUUcsUUFBVWpCLElBQzFCd0MsRUFBUTFCLFFBQVFHLE1BQVEsTUFJaEMsTUFBTWhMLEVBQUtzRixFQUFFd0gsYUFBYWEsUUFBUSxTQUM1QjFCLEVBQVlqSCxTQUFTd0UsZUFBZXhKLEdBRTFDc0YsRUFBRVIsT0FBT1csWUFBWXdHLEdBQ3JCQSxFQUFVN0IsVUFBVWhHLE9BQU8sUUFFM0IrSSxFQUFXN0QsU0FBUXhFLElBQ2ZBLEVBQU8rRixRQUFRRyxNQUFRaEwsS0FHM0IsSUFBSTROLEVBQVc1SSxTQUFTd0UsZUFBZXhKLEVBQUssYUFDeEM2SixFQUFNZ0UsU0FBU0QsSUFDZi9ELEVBQU14RCxZQUFZdUgsR0FHdEJ0RCxHQUFXLEVBRVh0QixFQUFPSyxJQUFJLGFBQWMvRCxFQUFFUixRQU10QitFLEVBQU1pRSxrQkFDUGxFLEVBQWMvRSxNQUFNc0YsUUFBVSxPQUM5QlIsRUFBUTlFLE1BQU00SCxZQUFjLEdBSXBDLFNBQVNsQixFQUFLakcsR0FDVixHQUFJdUUsRUFBTXdDLFNBQVMxTCxPQUFTLEVBQ3hCOEksRUFBS1EsWUFBYywwREFDaEIsQ0FDSFIsRUFBS1EsWUFBYyxHQUVuQixJQUFJYSxFQUFJeEYsRUFBRVIsT0FBTytGLFFBQVFDLEVBQ3JCQyxFQUFJekYsRUFBRVIsT0FBTytGLFFBQVFFLEVBRXpCL0IsRUFBT0ssSUFBSSxrQkFBbUIsQ0FBQ3lCLEVBQUVDLEVBQUd6RixFQUFFUixTQUN0Q1EsRUFBRVIsT0FBTzBILG9CQUFvQixRQUFTakIsTUFoVjVCLEdDUGYsTUFBTXdDLEVBQ1RDLFlBQWEsRUFDYkMsZUFBZ0IsRUFDaEJDLFVBQVcsRUFFWEMsWUFBWXJDLEVBQU1uTCxHQUNkTixLQUFLeUwsS0FBT0EsRUFDWnpMLEtBQUtNLE9BQVNBLEVBQ2ROLEtBQUsrTixRQUFVL04sS0FBS2dPLFlBR3hCQSxZQUNJLElBQUlDLEVBQVEsR0FFWixJQUFLLElBQUl6TixFQUFJLEVBQUdBLEVBQUlSLEtBQUtNLE9BQVFFLElBQzdCeU4sRUFBTXhPLEtBQUssS0FFZixPQUFPd08sRUFHWEMsSUFBSWhLLEdBQ0FsRSxLQUFLK04sUUFBUXJLLE9BQU9RLEVBQU8sRUFBRyxLQUdsQ2lLLFNBQ0ksT0FBUW5PLEtBQUs0TixlQ3RCZCxNQUFNUSxFQUVUQyxvQkFBcUIsRUFFckJDLFFBQVUsSUFBSVosRUFBSyxVQUFXLEdBQzlCYSxXQUFhLElBQUliLEVBQUssYUFBYyxHQUNwQ2MsVUFBWSxJQUFJZCxFQUFLLFlBQWEsR0FDbENlLFVBQVksSUFBSWYsRUFBSyxZQUFhLEdBQ2xDZ0IsT0FBUyxJQUFJaEIsRUFBSyxTQUFVLEdBRTVCcEMsU0FBVyxDQUFDdEwsS0FBS3NPLFFBQVN0TyxLQUFLdU8sV0FBWXZPLEtBQUt3TyxVQUFXeE8sS0FBS3lPLFVBQVd6TyxLQUFLME8sUUFFaEZyRSxLQUFPLENBQ0gsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUNuQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQ25CLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDbkIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUNuQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQ25CLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDbkIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUNuQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQ25CLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FDbkIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUd2QnNFLFVBQVVwRCxFQUFNZCxFQUFHQyxHQUNmLElBQ0lrRSxFQURBMUssRUFBUSxFQUdaLEdBQUlxSCxFQUFLb0MsV0FVRixDQUNIaUIsRUFBUSxHQUNSLElBQUssSUFBSXBPLEVBQUlpSyxFQUFHakssRUFBSWlLLEVBQUljLEVBQUtqTCxPQUFRRSxJQUFLLENBQ3RDLElBQUk4SixFQUFPdEssS0FBS3FLLEtBQUs3SixHQUFHa0ssR0FDeEJrRSxFQUFNblAsS0FBSzZLLEdBR2YsR0FBSXNFLEVBQU14QixNQUFNcE4sS0FBSzZPLFFBQVUsQ0FDM0IsSUFBSWpJLEVBQUksRUFDUixJQUFLLElBQUlrSSxFQUFJckUsRUFBR3FFLEVBQUlyRSxFQUFJYyxFQUFLakwsT0FBUXdPLElBQ2pDOU8sS0FBS3FLLEtBQUt5RSxHQUFHQyxLQUFLeEQsRUFBS0UsS0FBTzdFLEVBQUc4RCxFQUFHQSxFQUFFLEdBQ3RDOUQsSUFFSjJFLEVBQUtzQyxVQUFXLFFBdEJwQixLQUFPM0osRUFBUXFILEVBQUtqTCxPQUFRNEQsSUFDeEIwSyxFQUFRNU8sS0FBS3FLLEtBQUtJLEdBQUdqSixNQUFNa0osRUFBR0EsRUFBSWEsRUFBS2pMLFFBRW5Dc08sRUFBTXhCLE1BQU1wTixLQUFLNk8sVUFDakI3TyxLQUFLcUssS0FBS0ksR0FBR3NFLEtBQUt4RCxFQUFLRSxLQUFPdkgsRUFBT3dHLElBQUtBLEdBQzFDYSxFQUFLc0MsVUFBVyxHQXNCaENtQixXQUFXekQsSUFDaUIsSUFBcEJBLEVBQUtvQyxXQUNMcEMsRUFBS29DLFlBQWEsR0FDZHNCLEdBQ0oxRCxFQUFLb0MsWUFBYSxHQUkxQmtCLE9BQU9LLEdBQ0gsT0FBZSxJQUFSQSxFQUdYQyxjQUFjQyxFQUFPM0UsRUFBR0MsR0FDSSxJQUFwQjFLLEtBQUtxSyxLQUFLSSxHQUFHQyxHQUNiMUssS0FBS3FQLEtBQUs1RSxFQUFHQyxJQUViMUssS0FBS3NMLFNBQVNyQyxTQUFRc0MsSUFDbEIsSUFBSStELEVBQVV0UCxLQUFLcUssS0FBS0ksR0FBR0MsR0FBR2xKLE1BQU0sR0FBSSxHQUNwQytOLEVBQVd2UCxLQUFLcUssS0FBS0ksR0FBR0MsR0FBR2xKLE9BQU8sR0FFbEMrSixFQUFLRSxPQUFTNkQsSUFDZC9ELEVBQUsyQyxJQUFJcUIsR0FDVHZQLEtBQUttTyxPQUFPaUIsRUFBTzdELE9BSTNCdkwsS0FBS3FLLEtBQUtJLEdBQUdDLEdBQUssS0FJMUIyRSxLQUFLNUUsRUFBR0MsR0FDSjFLLEtBQUtxSyxLQUFLSSxHQUFHQyxHQUFLLElBR3RCeUQsT0FBT2lCLEVBQU83RCxHQUNWLElBQUlBLEVBQUt3QyxRQUFReUIsU0FBUyxLQUVuQixDQUNILElBQUl0TCxFQUFRbEUsS0FBS3NMLFNBQVM2QixRQUFRNUIsR0FDbEN2TCxLQUFLc0wsU0FBUzVILE9BQU9RLEVBQU8sR0FFNUIsSUFBSXVILEVBQU8yRCxFQUFNM0QsS0FDYlEsRUFBV1YsRUFBS0UsS0FDcEI5QyxFQUFPSyxJQUFJLFdBQVksQ0FBQ3lDLEtBQUFBLEVBQU1RLFNBQUFBLElBRTlCak0sS0FBS3lQLFlBQVloRSxJQUl6QmdFLFlBQVloRSxHQUNRekwsS0FBS3NMLFNBQVM4QixPQUFNN0IsSUFDUixJQUF2QkEsRUFBS3FDLGtCQU1ONU4sS0FBSzBQLG9CQUFxQixFQUMxQi9HLEVBQU9LLElBQUksV0FBWXlDLEtDcEg1QixNQUFNa0UsRUFFVDdCLFlBQVlyQyxHQUNSekwsS0FBS3lMLEtBQU9BLEVBR2hCckIsTUFBUSxJQUFJZ0UsRUFFWndCLE9BQU9SLEVBQU8zRSxFQUFHQyxHQUNiMEUsRUFBTWhGLE1BQU0rRSxjQUFjQyxFQUFPM0UsRUFBR0MsR0FHeENtRixTQUFTVCxHQUNMLElBQUlVLEVBQWM5UCxLQUFLK1AsaUJBRWtDLElBQXJEWCxFQUFNaEYsTUFBTUMsS0FBS3lGLEVBQVksSUFBSUEsRUFBWSxJQUM3Q1YsRUFBTWhGLE1BQU0rRSxjQUFjQyxFQUFPLENBQUNVLEVBQVksSUFBSyxDQUFDQSxFQUFZLEtBRWhFOVAsS0FBSzZQLFNBQVNULEdBSXRCVyxpQkFJSSxNQUFPLENBSENDLEtBQUtDLE1BQXNCLEdBQWhCRCxLQUFLRSxVQUNoQkYsS0FBS0MsTUFBc0IsR0FBaEJELEtBQUtFLFlDdkJaLE1BRWhCLElBQUlqRixFQUNBRyxFQTBDSixTQUFTK0UsSUFDTCxJQUFJMUYsRUFBSTJGLElBQ0oxRixFQUFJMEYsSUFFb0IsTUFBeEJuRixFQUFHYixNQUFNQyxLQUFLSSxHQUFHQyxJQUFzQyxNQUF4Qk8sRUFBR2IsTUFBTUMsS0FBS0ksR0FBR0MsSUFDaERVLEVBQUd3RSxPQUFPM0UsRUFBSVIsRUFBR0MsR0FDakIvQixFQUFPSyxJQUFJLGFBQWMsQ0FBQ2lDLEVBQUlSLEVBQUdDLEtBRWpDeUYsSUFpQ1IsU0FBU0MsRUFBbUI5UCxHQUN4QixJQUFJNE8sRUFBTWMsS0FBS0MsTUFBc0IsR0FBaEJELEtBQUtFLFVBQ3RCRyxFQUFZL1AsR0FBVSxFQU0xQixPQUpJNE8sRUFBTSxHQUFLbUIsSUFDWG5CLEVBQU0sR0FBS21CLEdBR1JuQixFQXpGWHZHLEVBQU9DLElBQUksV0FLWCxXQUNJcUMsRUFBSyxJQUFJMEUsRUFBTyxRQUNoQnZFLEVBQUssSUFBSXVFLEVBQU8sWUFFaEIsTUFBTXpGLEVBQVUsQ0FDWmUsR0FBQUEsRUFDQUcsR0FBQUEsR0FPSixPQWlEd0JqQixFQXJETGlCLEdBc0RaaEIsTUFBTWtCLFNBQVNyQyxTQUFRc0MsSUFDMUIsTUFBUUEsRUFBS3NDLFVBQVUsQ0FDbkIsSUFBSXlDLEVBQVcsRUFBQyxHQUFNLEdBQ3RCL0UsRUFBS29DLFdBQWEyQyxFQUFTTixLQUFLQyxNQUFNRCxLQUFLRSxTQUFTSSxFQUFTaFEsU0FDN0QsSUFBSW1LLEVBQUkyRixFQUFtQjdFLEVBQUtqTCxRQUM1Qm9LLEVBQUkwRixFQUFtQjdFLEVBQUtqTCxRQUVoQzZKLEVBQU9DLE1BQU11RSxVQUFVcEQsRUFBTWQsRUFBR0MsT0FHeEM2RixRQUFRQyxJQUFJckcsRUFBT0MsTUFBTUMsTUE5RHpCMUIsRUFBT0ssSUFBSSxjQUFla0IsR0FFbkJrQixFQWlEWCxJQUE0QmpCLEtBbEU1QnhCLEVBQU9DLElBQUksbUJBNEJYLFNBQXVCa0gsR0FDbkI3RSxFQUFHMkUsT0FBT3hFLEVBQUkwRSxFQUFZLEdBQUlBLEVBQVksSUFFMUMsSUFBSTlILEVBQVdvRCxFQUFHaEIsTUFBTUMsS0FBS3lGLEVBQVksSUFBSUEsRUFBWSxJQUN6RG5ILEVBQU9LLElBQUksZ0JBQWlCLENBQUM4RyxFQUFZLEdBQUk5SCxJQUV6Q29ELEVBQUdoQixNQUFNaUUsb0JBQ1Q4QixPQWxDUnhILEVBQU9DLElBQUksY0FtQlgsU0FBb0JxRCxHQUNoQmhCLEVBQUdiLE1BQU1rQixTQUFTckMsU0FBUXNDLElBQ2xCQSxFQUFLRSxPQUFTUSxJQUNkVixFQUFLb0MsWUFBY3BDLEVBQUtvQyxrQkFyQnBDaEYsRUFBT0MsSUFBSSxjQWlEWCxTQUEwQjBCLEdBQ3RCLElBQUltRyxFQUVKeEYsRUFBR2IsTUFBTWtCLFNBQVNyQyxTQUFRc0MsSUFDbEJqQixFQUFLRSxRQUFRRyxRQUFVWSxFQUFLRSxPQUM1QmdGLEVBQWFsRixNQUlyQixJQUFJZCxFQUFJaUcsU0FBU3BHLEVBQUtFLFFBQVFDLEdBQzFCQyxFQUFJZ0csU0FBU3BHLEVBQUtFLFFBQVFFLEdBRTlCTyxFQUFHYixNQUFNdUUsVUFBVThCLEVBQVloRyxFQUFHQyxPQXJFdEIsSSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdHlsZXNoZWV0LmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXNoZWV0LmNzcz9kNzRkIiwid2VicGFjazovLy8uL3NyYy9wdWJzdWIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hpcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovLy8uL3NyYy9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dhbWVMb29wLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyA9IG5ldyBVUkwoXCIuL2ZvbnRzL21ham9yX3NoaWZ0LXdlYmZvbnQud29mZlwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xX19fID0gbmV3IFVSTChcIi4vaW1nL3JhZGFyLnBuZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yX19fID0gbmV3IFVSTChcIi4vaW1nL3NwbGFzaC5wbmdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfM19fXyA9IG5ldyBVUkwoXCIuL2ltZy9oaXQucG5nXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzFfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8yX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMl9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfM19fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzNfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiQGZvbnQtZmFjZSB7XFxuICAgIGZvbnQtZmFtaWx5OiAnbWFqb3Jfc25hZnVyZWd1bGFyJztcXG4gICAgc3JjOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpIGZvcm1hdCgnd29mZicpO1xcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgICBmb250LXN0eWxlOiBub3JtYWw7XFxufVxcblxcbmJvZHkge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxuICAgIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG5oMSB7XFxuICAgIGZvbnQtZmFtaWx5OiAnbWFqb3Jfc25hZnVyZWd1bGFyJztcXG4gICAgY29sb3I6IGdyZWVueWVsbG93O1xcbiAgICBmb250LXNpemU6IDYwcHg7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuI3BsYXlCdXR0b24sICNyb3RhdGUge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmOTRjM2E7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG4gICAgZm9udC1zaXplOiAyNXB4O1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIHdpZHRoOiAyMDBweDtcXG4gICAgaGVpZ2h0OiA1MHB4O1xcbn1cXG5cXG4jZGlzcGxheSB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgY29sdW1uLWdhcDogMjBweDtcXG59XFxuXFxuI2FpQm9hcmQge1xcbiAgICBtYXJnaW4tcmlnaHQ6IDIyMHB4O1xcbn1cXG5cXG4jYWlCb2FyZD4uY2VsbCB7XFxuICAgIGN1cnNvcjogY3Jvc3NoYWlyO1xcbn1cXG5cXG4jaW5mbyB7XFxuICAgIGNvbG9yOiBncmVlbnllbGxvdztcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBmb250LXNpemU6IDIwcHg7XFxufVxcblxcbiNzaGlwQ29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgd2lkdGg6IDIwMHB4O1xcbiAgICBnYXA6IDVweDtcXG59XFxuXFxuI3NoaXBzIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xcbn1cXG5cXG4jY2FycmllckNvbnRhaW5lcnI+aW1nIHtcXG4gICAgY3Vyc29yOiBncmFiO1xcbn1cXG5cXG4uc2hpcCB7XFxuICAgIGhlaWdodDogNDBweDtcXG59XFxuXFxuI2NhcnJpZXJDb250YWluZXIudmVydGljYWwge1xcbiAgICB3aWR0aDogMjAwcHg7XFxuICAgIGhlaWdodDogMjAwcHg7XFxufVxcblxcbiNiYXR0bGVzaGlwQ29udGFpbmVyLnZlcnRpY2FsIHtcXG4gICAgd2lkdGg6IDIwMHB4O1xcbiAgICBoZWlnaHQ6IDE2MHB4O1xcbn1cXG5cXG4jZGVzdHJveWVyQ29udGFpbmVyLnZlcnRpY2FsLCAjc3VibWFyaW5lQ29udGFpbmVyLnZlcnRpY2FsIHtcXG4gICAgd2lkdGg6IDIwMHB4O1xcbiAgICBoZWlnaHQ6IDEyMHB4O1xcbn1cXG5cXG4jcGF0cm9sQ29udGFpbmVyLnZlcnRpY2FsIHtcXG4gICAgd2lkdGg6IDIwMHB4O1xcbiAgICBoZWlnaHQ6IDgwcHg7XFxufVxcblxcbi5oaWRlIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmRyYWdPdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmV5O1xcbn1cXG5cXG4uaW52YWxpZCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Y29yYWw7XFxufVxcblxcbi5yb3RhdGUge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZykgdHJhbnNsYXRlKC00MHB4KTtcXG4gICAgdHJhbnNmb3JtLW9yaWdpbjogYm90dG9tIGxlZnQ7XFxufVxcblxcbi5ib2FyZCB7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgIGdyaWQ6IHJlcGVhdCgxMCwgMWZyKSAvIHJlcGVhdCgxMCwgMWZyKTtcXG4gICAgd2lkdGg6IDQwMHB4O1xcbiAgICBoZWlnaHQ6IDQwMHB4O1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xX19fICsgXCIpO1xcbn1cXG5cXG4uY2VsbCB7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5jZWxsPmltZyB7XFxuICAgIGN1cnNvcjogZ3JhYjtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG5cXG4uY2VsbFtkYXRhLXZhbHVlPSctJ106YWZ0ZXIge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGhlaWdodDogMzZweDtcXG4gICAgY29udGVudDogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMl9fXyArIFwiKTtcXG4gICAgei1pbmRleDogMDtcXG59XFxuXFxuLmNlbGxbZGF0YS12YWx1ZT0neCddOmFmdGVyIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBoZWlnaHQ6IDM2cHg7XFxuICAgIGNvbnRlbnQ6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzNfX18gKyBcIik7XFxuICAgIHotaW5kZXg6IDA7XFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZXNoZWV0LmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGlDQUFpQztJQUNqQywyREFBMkQ7SUFDM0QsbUJBQW1CO0lBQ25CLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsdUJBQXVCO0lBQ3ZCLHVCQUF1QjtJQUN2QixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxpQ0FBaUM7SUFDakMsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixlQUFlO0lBQ2YsWUFBWTtJQUNaLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixXQUFXO0lBQ1gsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixlQUFlO0FBQ25COztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixZQUFZO0lBQ1osUUFBUTtBQUNaOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0Qix1QkFBdUI7SUFDdkIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osYUFBYTtBQUNqQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSwyQkFBMkI7QUFDL0I7O0FBRUE7SUFDSSw0QkFBNEI7QUFDaEM7O0FBRUE7SUFDSSx5Q0FBeUM7SUFDekMsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVDQUF1QztJQUN2QyxZQUFZO0lBQ1osYUFBYTtJQUNiLHlEQUFzQztBQUMxQzs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2QixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixnREFBOEI7SUFDOUIsVUFBVTtBQUNkOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixnREFBMkI7SUFDM0IsVUFBVTtBQUNkXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBmb250LWZhY2Uge1xcbiAgICBmb250LWZhbWlseTogJ21ham9yX3NuYWZ1cmVndWxhcic7XFxuICAgIHNyYzogdXJsKCcuL2ZvbnRzL21ham9yX3NoaWZ0LXdlYmZvbnQud29mZicpIGZvcm1hdCgnd29mZicpO1xcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgICBmb250LXN0eWxlOiBub3JtYWw7XFxufVxcblxcbmJvZHkge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxuICAgIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG5oMSB7XFxuICAgIGZvbnQtZmFtaWx5OiAnbWFqb3Jfc25hZnVyZWd1bGFyJztcXG4gICAgY29sb3I6IGdyZWVueWVsbG93O1xcbiAgICBmb250LXNpemU6IDYwcHg7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuI3BsYXlCdXR0b24sICNyb3RhdGUge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmOTRjM2E7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG4gICAgZm9udC1zaXplOiAyNXB4O1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIHdpZHRoOiAyMDBweDtcXG4gICAgaGVpZ2h0OiA1MHB4O1xcbn1cXG5cXG4jZGlzcGxheSB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgY29sdW1uLWdhcDogMjBweDtcXG59XFxuXFxuI2FpQm9hcmQge1xcbiAgICBtYXJnaW4tcmlnaHQ6IDIyMHB4O1xcbn1cXG5cXG4jYWlCb2FyZD4uY2VsbCB7XFxuICAgIGN1cnNvcjogY3Jvc3NoYWlyO1xcbn1cXG5cXG4jaW5mbyB7XFxuICAgIGNvbG9yOiBncmVlbnllbGxvdztcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBmb250LXNpemU6IDIwcHg7XFxufVxcblxcbiNzaGlwQ29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgd2lkdGg6IDIwMHB4O1xcbiAgICBnYXA6IDVweDtcXG59XFxuXFxuI3NoaXBzIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xcbn1cXG5cXG4jY2FycmllckNvbnRhaW5lcnI+aW1nIHtcXG4gICAgY3Vyc29yOiBncmFiO1xcbn1cXG5cXG4uc2hpcCB7XFxuICAgIGhlaWdodDogNDBweDtcXG59XFxuXFxuI2NhcnJpZXJDb250YWluZXIudmVydGljYWwge1xcbiAgICB3aWR0aDogMjAwcHg7XFxuICAgIGhlaWdodDogMjAwcHg7XFxufVxcblxcbiNiYXR0bGVzaGlwQ29udGFpbmVyLnZlcnRpY2FsIHtcXG4gICAgd2lkdGg6IDIwMHB4O1xcbiAgICBoZWlnaHQ6IDE2MHB4O1xcbn1cXG5cXG4jZGVzdHJveWVyQ29udGFpbmVyLnZlcnRpY2FsLCAjc3VibWFyaW5lQ29udGFpbmVyLnZlcnRpY2FsIHtcXG4gICAgd2lkdGg6IDIwMHB4O1xcbiAgICBoZWlnaHQ6IDEyMHB4O1xcbn1cXG5cXG4jcGF0cm9sQ29udGFpbmVyLnZlcnRpY2FsIHtcXG4gICAgd2lkdGg6IDIwMHB4O1xcbiAgICBoZWlnaHQ6IDgwcHg7XFxufVxcblxcbi5oaWRlIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmRyYWdPdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmV5O1xcbn1cXG5cXG4uaW52YWxpZCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Y29yYWw7XFxufVxcblxcbi5yb3RhdGUge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZykgdHJhbnNsYXRlKC00MHB4KTtcXG4gICAgdHJhbnNmb3JtLW9yaWdpbjogYm90dG9tIGxlZnQ7XFxufVxcblxcbi5ib2FyZCB7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgIGdyaWQ6IHJlcGVhdCgxMCwgMWZyKSAvIHJlcGVhdCgxMCwgMWZyKTtcXG4gICAgd2lkdGg6IDQwMHB4O1xcbiAgICBoZWlnaHQ6IDQwMHB4O1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi9pbWcvcmFkYXIucG5nKTtcXG59XFxuXFxuLmNlbGwge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4uY2VsbD5pbWcge1xcbiAgICBjdXJzb3I6IGdyYWI7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuXFxuLmNlbGxbZGF0YS12YWx1ZT0nLSddOmFmdGVyIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBoZWlnaHQ6IDM2cHg7XFxuICAgIGNvbnRlbnQ6IHVybCguL2ltZy9zcGxhc2gucG5nKTtcXG4gICAgei1pbmRleDogMDtcXG59XFxuXFxuLmNlbGxbZGF0YS12YWx1ZT0neCddOmFmdGVyIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBoZWlnaHQ6IDM2cHg7XFxuICAgIGNvbnRlbnQ6IHVybCguL2ltZy9oaXQucG5nKTtcXG4gICAgei1pbmRleDogMDtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHVybCA9IFN0cmluZyh1cmwuX19lc01vZHVsZSA/IHVybC5kZWZhdWx0IDogdXJsKTsgLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG5cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9IC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcblxuXG4gIGlmICgvW1wiJygpIFxcdFxcbl18KCUyMCkvLnRlc3QodXJsKSB8fCBvcHRpb25zLm5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIiksIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlc2hlZXQuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZXNoZWV0LmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImV4cG9ydCBjb25zdCBwdWJzdWIgPSB7XG4gICAgcHVic3ViOiB7fSxcbiAgICBzdWI6IGZ1bmN0aW9uKHN1YnNjcmlwdGlvbiwgZm4pIHtcbiAgICAgICAgdGhpcy5wdWJzdWJbc3Vic2NyaXB0aW9uXSA9IHRoaXMucHVic3ViW3N1YnNjcmlwdGlvbl0gfHwgW107XG4gICAgICAgIHRoaXMucHVic3ViW3N1YnNjcmlwdGlvbl0ucHVzaChmbik7XG4gICAgfSxcbiAgICB1bnN1YjogZnVuY3Rpb24oc3Vic2NyaXB0aW9uLCBmbikge1xuICAgICAgICBpZiAodGhpcy5wdWJzdWJbc3Vic2NyaXB0aW9uXSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnB1YnN1YltzdWJzY3JpcHRpb25dLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wdWJzdWJbc3Vic2NyaXB0aW9uXVtpXSA9PT0gZm4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnB1YnN1YltzdWJzY3JpcHRpb25dLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHB1YjogZnVuY3Rpb24gKHN1YnNjcmlwdGlvbiwgZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5wdWJzdWJbc3Vic2NyaXB0aW9uXSkge1xuICAgICAgICAgICAgdGhpcy5wdWJzdWJbc3Vic2NyaXB0aW9uXS5mb3JFYWNoKGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICBmbihkYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufTsiLCJpbXBvcnQgeyBwdWJzdWIgfSBmcm9tICcuL3B1YnN1Yic7XG5pbXBvcnQgQ2FycmllciBmcm9tICcuL2ltZy9jYXJyaWVyLXcucG5nJztcbmltcG9ydCBCYXR0bGVzaGlwIGZyb20gJy4vaW1nL2JhdHRsZXNoaXAtdy5wbmcnO1xuaW1wb3J0IFN1Ym1hcmluZSBmcm9tICcuL2ltZy9zdWJtYXJpbmUtdy5wbmcnO1xuaW1wb3J0IERlc3Ryb3llciBmcm9tICcuL2ltZy9kZXN0cm95ZXItdy5wbmcnO1xuaW1wb3J0IFBhdHJvbCBmcm9tICcuL2ltZy9wYXRyb2wtdy5wbmcnO1xuXG5leHBvcnQgY29uc3QgZXZlbnRzID0gKCgpID0+IHtcbiAgICBjb25zdCBwbGF5QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXlCdXR0b24nKTtcbiAgICBjb25zdCBpbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZm8nKTtcbiAgICBjb25zdCBwbGF5ZXJCb2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXJCb2FyZCcpO1xuICAgIGNvbnN0IGFpQm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWlCb2FyZCcpO1xuICAgIGNvbnN0IHNoaXBDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hpcENvbnRhaW5lcicpO1xuICAgIGNvbnN0IHNoaXBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NoaXBzJyk7XG4gICAgY29uc3Qgcm90YXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvdGF0ZScpO1xuXG4gICAgcGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG5ld0dhbWUpO1xuICAgIHJvdGF0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZVJvdGF0ZSk7XG5cbiAgICBwdWJzdWIuc3ViKCdnYW1lQ3JlYXRlZCcsIHJlbmRlckdhbWUpO1xuICAgIHB1YnN1Yi5zdWIoJ21pc3NpbGVTdHJpa2UnLCByZW5kZXJNaXNzaWxlU3RyaWtlKTtcbiAgICBwdWJzdWIuc3ViKCdzdHJpa2VCYWNrJywgcmVuZGVyU3RyaWtlQmFjayk7XG4gICAgcHVic3ViLnN1Yignc2hpcFN1bmsnLCBhbGVydFNoaXBTdW5rKTtcbiAgICBwdWJzdWIuc3ViKCdnYW1lT3ZlcicsIGdhbWVPdmVyKTtcblxuICAgIGxldCBkcmFnVGFyZ2V0O1xuICAgIGxldCB2ZXJ0aWNhbCA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gbmV3R2FtZSgpIHtcbiAgICAgICAgcmVzZXRCb2FyZCgpO1xuICAgICAgICBwbGF5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHB1YnN1Yi5wdWIoJ25ld0dhbWUnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXJHYW1lKHBsYXllcnMpIHtcbiAgICAgICAgcGxheUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBzaGlwQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIHBsYXllckJvYXJkLnN0eWxlLmRpc3BsYXkgPSAnZ3JpZCc7XG4gICAgICAgIGFpQm9hcmQuc3R5bGUuZGlzcGxheSA9ICdncmlkJztcblxuICAgICAgICBjcmVhdGVQbGF5ZXJHcmlkKHBsYXllcnMucDEpO1xuICAgICAgICBjcmVhdGVDb21wdXRlckdyaWQocGxheWVycy5wMik7ICBcbiAgICAgICAgcmVuZGVyU2hpcHMocGxheWVycy5wMSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVuZGVyU2hpcHMocGxheWVyKSB7XG4gICAgICAgIGNvbnN0IHNoaXBJY29ucyA9IFtDYXJyaWVyLCBCYXR0bGVzaGlwLCBEZXN0cm95ZXIsIFN1Ym1hcmluZSwgUGF0cm9sXTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBwbGF5ZXIuZmxlZXQuYWxsU2hpcHMuZm9yRWFjaChzaGlwID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGl2LmlkID0gc2hpcC5uYW1lICsgXCJDb250YWluZXJcIjtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBzaGlwSWNvbnNbaV07XG4gICAgICAgICAgICBpbWFnZS5pZCA9IHNoaXAubmFtZTtcbiAgICAgICAgICAgIGltYWdlLmNsYXNzTmFtZSA9ICdzaGlwJztcbiAgICAgICAgICAgIGltYWdlLmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBkcmFnU3RhcnQpO1xuICAgICAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIGRyYWdFbmQpO1xuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICAgICAgICAgIHNoaXBzLmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVBsYXllckdyaWQocGxheWVyKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAgICAgcGxheWVyLmZsZWV0LmdyaWRbaV0uZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gJ2NlbGwnO1xuICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC54ID0gaTtcbiAgICAgICAgICAgICAgICBjZWxsLmRhdGFzZXQueSA9IGluZGV4O1xuICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC52YWx1ZSA9IGl0ZW07XG5cbiAgICAgICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIGRyYWdFbnRlcik7XG4gICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGRyYWdPdmVyKTtcbiAgICAgICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGRyYWdMZWF2ZSk7XG4gICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgZHJvcCk7XG5cbiAgICAgICAgICAgICAgICBwbGF5ZXJCb2FyZC5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcHV0ZXJHcmlkKHBsYXllcikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgIHBsYXllci5mbGVldC5ncmlkW2ldLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBjZWxsLmNsYXNzTmFtZSA9ICdjZWxsJztcbiAgICAgICAgICAgICAgICBjZWxsLmRhdGFzZXQueCA9IGk7XG4gICAgICAgICAgICAgICAgY2VsbC5kYXRhc2V0LnkgPSBpbmRleDtcbiAgICAgICAgICAgICAgICBjZWxsLmRhdGFzZXQudmFsdWUgPSAwO1xuXG4gICAgICAgICAgICAgICAgYWlCb2FyZC5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICAgICAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZmlyZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvZ2dsZVJvdGF0ZSgpIHtcbiAgICAgICAgc2hpcHMuZmlyc3RDaGlsZC5jbGFzc0xpc3QudG9nZ2xlKCd2ZXJ0aWNhbCcpO1xuICAgICAgICBzaGlwcy5maXJzdENoaWxkLmZpcnN0Q2hpbGQuY2xhc3NMaXN0LnRvZ2dsZSgncm90YXRlJyk7XG5cbiAgICAgICAgdmVydGljYWwgPSAhdmVydGljYWw7XG5cbiAgICAgICAgcHVic3ViLnB1Yigncm90YXRlU2hpcCcsIHNoaXBzLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5pZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHJhZ1N0YXJ0KGUpIHtcbiAgICAgICAgZHJhZ1RhcmdldCA9IGUudGFyZ2V0LmlkO1xuICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKCdpbWFnZScsIGUudGFyZ2V0LmlkKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBbLi4uZS50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuXS5mb3JFYWNoKHNpYmxpbmcgPT4ge1xuICAgICAgICAgICAgaWYgKHNpYmxpbmcuZGF0YXNldC52YWx1ZSA9PT0gZHJhZ1RhcmdldCkge1xuICAgICAgICAgICAgICAgIHNpYmxpbmcuZGF0YXNldC52YWx1ZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYWdFbmQoZSkge1xuICAgICAgICBbLi4uZS50YXJnZXQucGFyZW50RWxlbWVudC5jaGlsZHJlbl0uZm9yRWFjaChzaWJsaW5nID0+IHNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ092ZXInKSk7XG4gICAgICAgIFsuLi5lLnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuXS5mb3JFYWNoKHNpYmxpbmcgPT4gc2libGluZy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJykpO1xuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG4gICAgfVxuXG4gICAgbGV0IGZpcnN0U2libGluZztcbiAgICBsZXQgc2Vjb25kU2libGluZztcbiAgICBsZXQgdGhpcmRTaWJsaW5nO1xuICAgIGxldCBmb3VydGhTaWJsaW5nO1xuICAgIGxldCBkcm9wVGFyZ2V0ID0gW107XG5cbiAgICBmdW5jdGlvbiB2YWx1ZVplcm8oZWwpIHtcbiAgICAgICAgcmV0dXJuIGVsLmRhdGFzZXQudmFsdWUgPT0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmFnRW50ZXIoZSkge1xuXG4gICAgICAgIGlmIChkcmFnVGFyZ2V0ID09PSAnY2FycmllcicpIHtcblxuICAgICAgICAgICAgaWYgKHZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5kYXRhc2V0LnkgPCA2KSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0U2libGluZyA9IGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kU2libGluZyA9IGZpcnN0U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXJkU2libGluZyA9IHNlY29uZFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBmb3VydGhTaWJsaW5nID0gdGhpcmRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgZHJvcFRhcmdldCA9IFtlLnRhcmdldCwgZmlyc3RTaWJsaW5nLCBzZWNvbmRTaWJsaW5nLCB0aGlyZFNpYmxpbmcsIGZvdXJ0aFNpYmxpbmddO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2ludmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZlcnRpY2FsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgIChlLnRhcmdldC5kYXRhc2V0LnggPCA2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxzID0gWy4uLmUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5dO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBjZWxscy5pbmRleE9mKGUudGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICBmaXJzdFNpYmxpbmcgPSBjZWxsc1tpbmRleCArIDEwXTtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kU2libGluZyA9IGNlbGxzW2luZGV4ICsgMjBdO1xuICAgICAgICAgICAgICAgICAgICB0aGlyZFNpYmxpbmcgPSBjZWxsc1tpbmRleCArIDMwXTtcbiAgICAgICAgICAgICAgICAgICAgZm91cnRoU2libGluZyA9IGNlbGxzW2luZGV4ICsgNDBdO1xuICAgICAgICAgICAgICAgICAgICBkcm9wVGFyZ2V0ID0gW2UudGFyZ2V0LCBmaXJzdFNpYmxpbmcsIHNlY29uZFNpYmxpbmcsIHRoaXJkU2libGluZywgZm91cnRoU2libGluZ107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChkcm9wVGFyZ2V0ICE9PSBbXSAmJiBkcm9wVGFyZ2V0LmV2ZXJ5KHZhbHVlWmVybykpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZHJvcFRhcmdldC5mb3JFYWNoKHRhcmdldCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdkcmFnT3ZlcicpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdpbnZhbGlkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZHJhZ1RhcmdldCA9PT0gJ2JhdHRsZXNoaXAnKSB7XG5cbiAgICAgICAgICAgIGlmICh2ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuZGF0YXNldC55IDwgNykge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFNpYmxpbmcgPSBlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZFNpYmxpbmcgPSBmaXJzdFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICB0aGlyZFNpYmxpbmcgPSBzZWNvbmRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgZHJvcFRhcmdldCA9IFtlLnRhcmdldCwgZmlyc3RTaWJsaW5nLCBzZWNvbmRTaWJsaW5nLCB0aGlyZFNpYmxpbmddO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2ludmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZlcnRpY2FsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgIChlLnRhcmdldC5kYXRhc2V0LnggPCA3KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxzID0gWy4uLmUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5dO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBjZWxscy5pbmRleE9mKGUudGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICBmaXJzdFNpYmxpbmcgPSBjZWxsc1tpbmRleCArIDEwXTtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kU2libGluZyA9IGNlbGxzW2luZGV4ICsgMjBdO1xuICAgICAgICAgICAgICAgICAgICB0aGlyZFNpYmxpbmcgPSBjZWxsc1tpbmRleCArIDMwXTtcbiAgICAgICAgICAgICAgICAgICAgZHJvcFRhcmdldCA9IFtlLnRhcmdldCwgZmlyc3RTaWJsaW5nLCBzZWNvbmRTaWJsaW5nLCB0aGlyZFNpYmxpbmddO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2ludmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZHJvcFRhcmdldCAhPT0gW10gJiYgZHJvcFRhcmdldC5ldmVyeSh2YWx1ZVplcm8pKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGRyb3BUYXJnZXQuZm9yRWFjaCh0YXJnZXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnZHJhZ092ZXInKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAoZHJhZ1RhcmdldCA9PT0gJ2Rlc3Ryb3llcicgfHwgZHJhZ1RhcmdldCA9PT0gJ3N1Ym1hcmluZScpIHtcblxuICAgICAgICAgICAgaWYgKHZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5kYXRhc2V0LnkgPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0U2libGluZyA9IGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kU2libGluZyA9IGZpcnN0U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGRyb3BUYXJnZXQgPSBbZS50YXJnZXQsIGZpcnN0U2libGluZywgc2Vjb25kU2libGluZ107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmVydGljYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAgKGUudGFyZ2V0LmRhdGFzZXQueCA8IDgpIHtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbHMgPSBbLi4uZS50YXJnZXQucGFyZW50RWxlbWVudC5jaGlsZHJlbl07XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGNlbGxzLmluZGV4T2YoZS50YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0U2libGluZyA9IGNlbGxzW2luZGV4ICsgMTBdO1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmRTaWJsaW5nID0gY2VsbHNbaW5kZXggKyAyMF07XG4gICAgICAgICAgICAgICAgICAgIGRyb3BUYXJnZXQgPSBbZS50YXJnZXQsIGZpcnN0U2libGluZywgc2Vjb25kU2libGluZ107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChkcm9wVGFyZ2V0ICE9PSBbXSAmJiBkcm9wVGFyZ2V0LmV2ZXJ5KHZhbHVlWmVybykpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZHJvcFRhcmdldC5mb3JFYWNoKHRhcmdldCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdkcmFnT3ZlcicpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdpbnZhbGlkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmIChkcmFnVGFyZ2V0ID09PSAncGF0cm9sJykge1xuICAgICAgICAgICAgaWYgKHZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5kYXRhc2V0LnkgPCA5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0U2libGluZyA9IGUudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgZHJvcFRhcmdldCA9IFtlLnRhcmdldCwgZmlyc3RTaWJsaW5nXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdpbnZhbGlkJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIGlmICh2ZXJ0aWNhbCA9PT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgaWYgIChlLnRhcmdldC5kYXRhc2V0LnggPCA5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGxzID0gWy4uLmUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5dO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBjZWxscy5pbmRleE9mKGUudGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICBmaXJzdFNpYmxpbmcgPSBjZWxsc1tpbmRleCArIDEwXTtcbiAgICAgICAgICAgICAgICAgICAgZHJvcFRhcmdldCA9IFtlLnRhcmdldCwgZmlyc3RTaWJsaW5nXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdpbnZhbGlkJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGRyb3BUYXJnZXQgIT09IFtdICYmIGRyb3BUYXJnZXQuZXZlcnkodmFsdWVaZXJvKSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBkcm9wVGFyZ2V0LmZvckVhY2godGFyZ2V0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2RyYWdPdmVyJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2ludmFsaWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYWdPdmVyKGUpIHtcbiAgICAgICAgZHJhZ0VudGVyKGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYWdMZWF2ZShlKSB7XG4gICAgICAgIFsuLi5lLnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuXS5mb3JFYWNoKHNpYmxpbmcgPT4gc2libGluZy5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnT3ZlcicpKTtcbiAgICAgICAgWy4uLmUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5dLmZvckVhY2goc2libGluZyA9PiBzaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoJ2ludmFsaWQnKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHJvcChlKSB7XG4gICAgICAgIFsuLi5lLnRhcmdldC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuXS5mb3JFYWNoKHNpYmxpbmcgPT4gc2libGluZy5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnT3ZlcicpKTtcbiAgICAgICAgWy4uLmUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2hpbGRyZW5dLmZvckVhY2goc2libGluZyA9PiB7XG4gICAgICAgICAgICBpZiAoc2libGluZy5kYXRhc2V0LnZhbHVlID09PSBkcmFnVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgc2libGluZy5kYXRhc2V0LnZhbHVlID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgaWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdpbWFnZScpO1xuICAgICAgICBjb25zdCBkcmFnZ2FibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG5cbiAgICAgICAgZS50YXJnZXQuYXBwZW5kQ2hpbGQoZHJhZ2dhYmxlKTtcbiAgICAgICAgZHJhZ2dhYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcblxuICAgICAgICBkcm9wVGFyZ2V0LmZvckVhY2godGFyZ2V0ID0+IHtcbiAgICAgICAgICAgIHRhcmdldC5kYXRhc2V0LnZhbHVlID0gaWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBlbXB0eURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkICsgJ0NvbnRhaW5lcicpO1xuICAgICAgICBpZiAoc2hpcHMuY29udGFpbnMoZW1wdHlEaXYpKSB7XG4gICAgICAgICAgICBzaGlwcy5yZW1vdmVDaGlsZChlbXB0eURpdik7XG4gICAgICAgIH1cblxuICAgICAgICB2ZXJ0aWNhbCA9IGZhbHNlO1xuXG4gICAgICAgIHB1YnN1Yi5wdWIoJ3NoaXBQbGFjZWQnLCBlLnRhcmdldCk7XG5cbiAgICAgICAgaGlkZVNoaXBDb250YWluZXIoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlU2hpcENvbnRhaW5lcigpIHtcbiAgICAgICAgaWYgKCFzaGlwcy5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgIHNoaXBDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIGFpQm9hcmQuc3R5bGUubWFyZ2luUmlnaHQgPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlyZShlKSB7XG4gICAgICAgIGlmIChzaGlwcy5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpbmZvLnRleHRDb250ZW50ID0gJ1BsYWNlIGFsbCBvZiB5b3VyIHNoaXBzIGJlZm9yZSBhdHRhY2tpbmcgdGhlIGVuZW15LidcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZm8udGV4dENvbnRlbnQgPSAnJztcblxuICAgICAgICAgICAgbGV0IHggPSBlLnRhcmdldC5kYXRhc2V0Lng7XG4gICAgICAgICAgICBsZXQgeSA9IGUudGFyZ2V0LmRhdGFzZXQueTtcblxuICAgICAgICAgICAgcHVic3ViLnB1YignbWlzc2lsZUxhdW5jaGVkJywgW3gseSwgZS50YXJnZXRdKTtcbiAgICAgICAgICAgIGUudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZmlyZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXJNaXNzaWxlU3RyaWtlKHRhcmdldCkge1xuICAgICAgICB0YXJnZXRbMF0uZGF0YXNldC52YWx1ZSA9IHRhcmdldFsxXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXJTdHJpa2VCYWNrKGxvY2F0aW9uKSB7XG4gICAgICAgIGxldCB4ID0gbG9jYXRpb25bMV07XG4gICAgICAgIGxldCB5ID0gbG9jYXRpb25bMl07XG5cbiAgICAgICAgWy4uLnBsYXllckJvYXJkLmNoaWxkcmVuXS5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgICAgICAgaWYgKGNlbGwuZGF0YXNldC54ID09IHggJiYgY2VsbC5kYXRhc2V0LnkgPT0geSkge1xuICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvblswXS5mbGVldC5ncmlkW3hdW3ldID09PSAnLScpIHtcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5kYXRhc2V0LnZhbHVlID0gJy0nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNlbGwuZGF0YXNldC52YWx1ZSA9ICd4J1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFsZXJ0U2hpcFN1bmsocGxheWVyKSB7XG4gICAgICAgIGlmIChwbGF5ZXIubmFtZSA9PT0gJ2NvbXB1dGVyJykge1xuICAgICAgICAgICAgaW5mby50ZXh0Q29udGVudCA9IGBZb3UgaGF2ZSBzdW5rIHlvdXIgb3Bwb25lbnQncyAke3BsYXllci5zaGlwTmFtZX0uYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZm8udGV4dENvbnRlbnQgPSBgWW91ciAke3BsYXllci5zaGlwTmFtZX0gaGFzIHN1bmsuYDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdhbWVPdmVyKHBsYXllcikge1xuICAgICAgICBbLi4uYWlCb2FyZC5jaGlsZHJlbl0uZm9yRWFjaChzaWJsaW5nID0+IHNpYmxpbmcucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmaXJlKSk7XG5cbiAgICAgICAgaWYgKHBsYXllciA9PT0gJ2NvbXB1dGVyJykge1xuICAgICAgICAgICAgaW5mby50ZXh0Q29udGVudCA9IGBHYW1lIE92ZXIuIFlvdXIgb3Bwb25lbnQncyBmbGVldCBoYXMgc3Vuay5gO1xuICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgIGluZm8udGV4dENvbnRlbnQgPSBgR2FtZSBPdmVyLiBZb3VyIGZsZWV0IGhhcyBzdW5rLmA7XG4gICAgICAgIH1cblxuICAgICAgICBwbGF5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICBhaUJvYXJkLnN0eWxlLm1hcmdpblJpZ2h0ID0gJzIyMHB4JztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldEJvYXJkKCkge1xuICAgICAgICB3aGlsZShwbGF5ZXJCb2FyZC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBwbGF5ZXJCb2FyZC5yZW1vdmVDaGlsZChwbGF5ZXJCb2FyZC5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlKGFpQm9hcmQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgYWlCb2FyZC5yZW1vdmVDaGlsZChhaUJvYXJkLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGluZm8udGV4dENvbnRlbnQgPSAnJztcbiAgICB9XG5cbn0pKCk7IiwiZXhwb3J0IGNsYXNzIFNoaXAge1xuICAgIGlzVmVydGljYWwgPSBmYWxzZTtcbiAgICBpc09wZXJhdGlvbmFsID0gdHJ1ZTtcbiAgICBpc1BsYWNlZCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IobmFtZSwgbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLmRlZmVuc2UgPSB0aGlzLmJ1aWxkU2hpcCgpO1xuICAgIH1cblxuICAgIGJ1aWxkU2hpcCgpIHtcbiAgICAgICAgbGV0IGFycmF5ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcnJheS5wdXNoKCdvJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIGhpdChpbmRleCkge1xuICAgICAgICB0aGlzLmRlZmVuc2Uuc3BsaWNlKGluZGV4LCAxLCAneCcpO1xuICAgIH1cblxuICAgIGlzU3VuaygpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmlzT3BlcmF0aW9uYWw7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgcHVic3ViIH0gZnJvbSAnLi9wdWJzdWInO1xuaW1wb3J0IHtTaGlwfSBmcm9tICcuL3NoaXAnO1xuXG5leHBvcnQgY2xhc3MgR2FtZWJvYXJkIHtcblxuICAgIGlzRmxlZXRPcGVyYXRpb25hbCA9IHRydWU7XG5cbiAgICBjYXJyaWVyID0gbmV3IFNoaXAoJ2NhcnJpZXInLCA1KTtcbiAgICBiYXR0bGVzaGlwID0gbmV3IFNoaXAoJ2JhdHRsZXNoaXAnLCA0KTtcbiAgICBkZXN0cm95ZXIgPSBuZXcgU2hpcCgnZGVzdHJveWVyJywgMyk7XG4gICAgc3VibWFyaW5lID0gbmV3IFNoaXAoJ3N1Ym1hcmluZScsIDMpO1xuICAgIHBhdHJvbCA9IG5ldyBTaGlwKCdwYXRyb2wnLCAyKTtcblxuICAgIGFsbFNoaXBzID0gW3RoaXMuY2FycmllciwgdGhpcy5iYXR0bGVzaGlwLCB0aGlzLmRlc3Ryb3llciwgdGhpcy5zdWJtYXJpbmUsIHRoaXMucGF0cm9sXTtcblxuICAgIGdyaWQgPSBbXG4gICAgICAgIFswLDAsMCwwLDAsMCwwLDAsMCwwXSxcbiAgICAgICAgWzAsMCwwLDAsMCwwLDAsMCwwLDBdLFxuICAgICAgICBbMCwwLDAsMCwwLDAsMCwwLDAsMF0sXG4gICAgICAgIFswLDAsMCwwLDAsMCwwLDAsMCwwXSxcbiAgICAgICAgWzAsMCwwLDAsMCwwLDAsMCwwLDBdLFxuICAgICAgICBbMCwwLDAsMCwwLDAsMCwwLDAsMF0sXG4gICAgICAgIFswLDAsMCwwLDAsMCwwLDAsMCwwXSxcbiAgICAgICAgWzAsMCwwLDAsMCwwLDAsMCwwLDBdLFxuICAgICAgICBbMCwwLDAsMCwwLDAsMCwwLDAsMF0sXG4gICAgICAgIFswLDAsMCwwLDAsMCwwLDAsMCwwXVxuICAgIF07XG5cbiAgICBwbGFjZVNoaXAoc2hpcCwgeCwgeSkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBsZXQgc3BhY2U7XG5cbiAgICAgICAgaWYoIXNoaXAuaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgZm9yICg7IGluZGV4IDwgc2hpcC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBzcGFjZSA9IHRoaXMuZ3JpZFt4XS5zbGljZSh5LCB5ICsgc2hpcC5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNwYWNlLmV2ZXJ5KHRoaXMuaXNaZXJvKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRbeF0uZmlsbChzaGlwLm5hbWUgKyBpbmRleCwgeSwgKyt5KTtcbiAgICAgICAgICAgICAgICAgICAgc2hpcC5pc1BsYWNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzcGFjZSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHg7IGkgPCB4ICsgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5ncmlkW2ldW3ldO1xuICAgICAgICAgICAgICAgIHNwYWNlLnB1c2goY2VsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzcGFjZS5ldmVyeSh0aGlzLmlzWmVybykpICB7XG4gICAgICAgICAgICAgICAgbGV0IG4gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSB4OyBqIDwgeCArIHNoaXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkW2pdLmZpbGwoc2hpcC5uYW1lICsgbiwgeSwgeSsxKTtcbiAgICAgICAgICAgICAgICAgICAgbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzaGlwLmlzUGxhY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJvdGF0ZVNoaXAoc2hpcCkge1xuICAgICAgICBpZiAoc2hpcC5pc1ZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgc2hpcC5pc1ZlcnRpY2FsID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtzc1xuICAgICAgICAgICAgc2hpcC5pc1ZlcnRpY2FsID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc1plcm8obnVtKSB7XG4gICAgICAgIHJldHVybiBudW0gPT09IDA7XG4gICAgfSBcblxuICAgIHJlY2VpdmVBdHRhY2soZW5lbXksIHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMuZ3JpZFt4XVt5XSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5taXNzKHgsIHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hbGxTaGlwcy5mb3JFYWNoKHNoaXAgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBoaXRTaGlwID0gdGhpcy5ncmlkW3hdW3ldLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgICAgICBsZXQgaGl0SW5kZXggPSB0aGlzLmdyaWRbeF1beV0uc2xpY2UoLTEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNoaXAubmFtZSA9PT0gaGl0U2hpcCkge1xuICAgICAgICAgICAgICAgICAgICBzaGlwLmhpdChoaXRJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTdW5rKGVuZW15LCBzaGlwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5ncmlkW3hdW3ldID0gJ3gnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWlzcyh4LCB5KSB7XG4gICAgICAgIHRoaXMuZ3JpZFt4XVt5XSA9ICctJztcbiAgICB9XG5cbiAgICBpc1N1bmsoZW5lbXksIHNoaXApIHtcbiAgICAgICAgaWYgKHNoaXAuZGVmZW5zZS5pbmNsdWRlcygnbycpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmFsbFNoaXBzLmluZGV4T2Yoc2hpcCk7XG4gICAgICAgICAgICB0aGlzLmFsbFNoaXBzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBuYW1lID0gZW5lbXkubmFtZTtcbiAgICAgICAgICAgIGxldCBzaGlwTmFtZSA9IHNoaXAubmFtZTtcbiAgICAgICAgICAgIHB1YnN1Yi5wdWIoJ3NoaXBTdW5rJywge25hbWUsIHNoaXBOYW1lfSk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNGbGVldFN1bmsobmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0ZsZWV0U3VuayhuYW1lKSB7XG4gICAgICAgIGxldCBzdW5rRmxlZXQgPSB0aGlzLmFsbFNoaXBzLmV2ZXJ5KHNoaXAgPT5cbiAgICAgICAgICAgIChzaGlwLmlzT3BlcmF0aW9uYWwgPT09IGZhbHNlKVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFzdW5rRmxlZXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaXNGbGVldE9wZXJhdGlvYW5sID0gZmFsc2U7XG4gICAgICAgICAgICBwdWJzdWIucHViKCdnYW1lT3ZlcicsIG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEdhbWVib2FyZCB9IGZyb20gJy4vZ2FtZWJvYXJkJztcblxuZXhwb3J0IGNsYXNzIFBsYXllciB7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuXG4gICAgZmxlZXQgPSBuZXcgR2FtZWJvYXJkO1xuXG4gICAgYXR0YWNrKGVuZW15LCB4LCB5KSB7XG4gICAgICAgIGVuZW15LmZsZWV0LnJlY2VpdmVBdHRhY2soZW5lbXksIHgsIHkpO1xuICAgIH1cblxuICAgIGFpQXR0YWNrKGVuZW15KSB7XG4gICAgICAgIGxldCBjb29yZGluYXRlcyA9IHRoaXMuZ2V0Q29vcmRpbmF0ZXMoKTtcblxuICAgICAgICBpZiAoZW5lbXkuZmxlZXQuZ3JpZFtjb29yZGluYXRlc1swXV1bY29vcmRpbmF0ZXNbMV1dID09PSAwKSB7XG4gICAgICAgICAgICBlbmVteS5mbGVldC5yZWNlaXZlQXR0YWNrKGVuZW15LCBbY29vcmRpbmF0ZXNbMF1dLCBbY29vcmRpbmF0ZXNbMV1dKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWlBdHRhY2soZW5lbXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q29vcmRpbmF0ZXMoKSB7XG4gICAgICAgIGxldCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgICAgICBsZXQgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKTtcblxuICAgICAgICByZXR1cm4gW3gsIHldO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuL3BsYXllcic7XG5pbXBvcnQgeyBwdWJzdWIgfSBmcm9tICcuL3B1YnN1Yic7XG5cbmV4cG9ydCBjb25zdCBnYW1lID0gKCgpID0+IHtcblxuICAgIGxldCBwMTtcbiAgICBsZXQgcDI7XG5cbiAgICBwdWJzdWIuc3ViKCduZXdHYW1lJywgY3JlYXRlR2FtZSk7XG4gICAgcHVic3ViLnN1YignbWlzc2lsZUxhdW5jaGVkJywgbWlzc2lsZVN0cmlrZSk7XG4gICAgcHVic3ViLnN1Yigncm90YXRlU2hpcCcsIHJvdGF0ZVNoaXApO1xuICAgIHB1YnN1Yi5zdWIoJ3NoaXBQbGFjZWQnLCBwbGFjZVBsYXllclNoaXBzKTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUdhbWUoKSB7XG4gICAgICAgIHAxID0gbmV3IFBsYXllcigndXNlcicpO1xuICAgICAgICBwMiA9IG5ldyBQbGF5ZXIoJ2NvbXB1dGVyJyk7XG5cbiAgICAgICAgY29uc3QgcGxheWVycyA9IHtcbiAgICAgICAgICAgIHAxLFxuICAgICAgICAgICAgcDIsXG4gICAgICAgIH1cblxuICAgICAgICBwbGFjZUNvbXB1dGVyU2hpcHMocDIpO1xuXG4gICAgICAgIHB1YnN1Yi5wdWIoJ2dhbWVDcmVhdGVkJywgcGxheWVycyk7XG5cbiAgICAgICAgcmV0dXJuIHAyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdGF0ZVNoaXAoc2hpcE5hbWUpIHtcbiAgICAgICAgcDEuZmxlZXQuYWxsU2hpcHMuZm9yRWFjaChzaGlwID0+IHtcbiAgICAgICAgICAgIGlmIChzaGlwLm5hbWUgPT09IHNoaXBOYW1lKSB7XG4gICAgICAgICAgICAgICAgc2hpcC5pc1ZlcnRpY2FsID0gIXNoaXAuaXNWZXJ0aWNhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWlzc2lsZVN0cmlrZShjb29yZGluYXRlcykge1xuICAgICAgICBwMS5hdHRhY2socDIsIGNvb3JkaW5hdGVzWzBdLCBjb29yZGluYXRlc1sxXSk7XG5cbiAgICAgICAgbGV0IGxvY2F0aW9uID0gcDIuZmxlZXQuZ3JpZFtjb29yZGluYXRlc1swXV1bY29vcmRpbmF0ZXNbMV1dO1xuICAgICAgICBwdWJzdWIucHViKCdtaXNzaWxlU3RyaWtlJywgW2Nvb3JkaW5hdGVzWzJdLCBsb2NhdGlvbl0pO1xuXG4gICAgICAgIGlmIChwMi5mbGVldC5pc0ZsZWV0T3BlcmF0aW9uYWwpIHtcbiAgICAgICAgICAgIGNvbXB1dGVyU3RyaWtlc0JhY2soKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVyU3RyaWtlc0JhY2soKSB7XG4gICAgICAgIGxldCB4ID0gZ2VuZXJhdGVDb29yZGluYXRlKCk7XG4gICAgICAgIGxldCB5ID0gZ2VuZXJhdGVDb29yZGluYXRlKCk7XG5cbiAgICAgICAgaWYgKHAxLmZsZWV0LmdyaWRbeF1beV0gIT09ICd4JyAmJiBwMS5mbGVldC5ncmlkW3hdW3ldICE9PSAnLScpIHtcbiAgICAgICAgICAgIHAyLmF0dGFjayhwMSwgeCwgeSk7XG4gICAgICAgICAgICBwdWJzdWIucHViKCdzdHJpa2VCYWNrJywgW3AxLCB4LCB5XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21wdXRlclN0cmlrZXNCYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwbGFjZVBsYXllclNoaXBzKGNlbGwpIHtcbiAgICAgICAgbGV0IHRhcmdldFNoaXA7XG5cbiAgICAgICAgcDEuZmxlZXQuYWxsU2hpcHMuZm9yRWFjaChzaGlwID0+IHtcbiAgICAgICAgICAgIGlmIChjZWxsLmRhdGFzZXQudmFsdWUgPT09IHNoaXAubmFtZSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFNoaXAgPSBzaGlwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgeCA9IHBhcnNlSW50KGNlbGwuZGF0YXNldC54KTtcbiAgICAgICAgbGV0IHkgPSBwYXJzZUludChjZWxsLmRhdGFzZXQueSk7XG5cbiAgICAgICAgcDEuZmxlZXQucGxhY2VTaGlwKHRhcmdldFNoaXAsIHgsIHkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBsYWNlQ29tcHV0ZXJTaGlwcyhwbGF5ZXIpIHtcbiAgICAgICAgcGxheWVyLmZsZWV0LmFsbFNoaXBzLmZvckVhY2goc2hpcCA9PiB7XG4gICAgICAgICAgICB3aGlsZSAoIXNoaXAuaXNQbGFjZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSBbdHJ1ZSwgZmFsc2VdO1xuICAgICAgICAgICAgICAgIHNoaXAuaXNWZXJ0aWNhbCA9IHBvc2l0aW9uW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpwb3NpdGlvbi5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IGdlbmVyYXRlQ29vcmRpbmF0ZShzaGlwLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgbGV0IHkgPSBnZW5lcmF0ZUNvb3JkaW5hdGUoc2hpcC5sZW5ndGgpO1xuICAgIFxuICAgICAgICAgICAgICAgIHBsYXllci5mbGVldC5wbGFjZVNoaXAoc2hpcCwgeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhwbGF5ZXIuZmxlZXQuZ3JpZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVDb29yZGluYXRlKGxlbmd0aCkge1xuICAgICAgICBsZXQgbnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgICAgICBsZXQgbWF4TGVuZ3RoID0gbGVuZ3RoIHx8IDE7XG5cbiAgICAgICAgaWYgKG51bSA+IDEwIC0gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICBudW0gPSAxMCAtIG1heExlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudW07XG4gICAgfVxuICAgIFxufSkoKTsiXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18iLCJVUkwiLCJfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMV9fXyIsIl9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yX19fIiwiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzNfX18iLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18iLCJfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xX19fIiwiX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMl9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzNfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJ1cmwiLCJvcHRpb25zIiwiU3RyaW5nIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJ0ZXN0Iiwic2xpY2UiLCJoYXNoIiwibmVlZFF1b3RlcyIsInJlcGxhY2UiLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwibiIsImdldHRlciIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwIiwiYiIsImJhc2VVUkkiLCJzZWxmIiwiaHJlZiIsIm5jIiwicHVic3ViIiwic3ViIiwic3Vic2NyaXB0aW9uIiwiZm4iLCJ1bnN1YiIsInB1YiIsImZvckVhY2giLCJwbGF5QnV0dG9uIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbmZvIiwicGxheWVyQm9hcmQiLCJhaUJvYXJkIiwic2hpcENvbnRhaW5lciIsInNoaXBzIiwicm90YXRlIiwiZHJhZ1RhcmdldCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0ZXh0Q29udGVudCIsInJlc2V0Qm9hcmQiLCJkaXNwbGF5IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwidmVydGljYWwiLCJwbGF5ZXJzIiwicGxheWVyIiwiZmxlZXQiLCJncmlkIiwiY2VsbCIsImNsYXNzTmFtZSIsImRhdGFzZXQiLCJ4IiwieSIsInZhbHVlIiwiZHJhZ0VudGVyIiwiZHJhZ092ZXIiLCJkcmFnTGVhdmUiLCJkcm9wIiwiY3JlYXRlUGxheWVyR3JpZCIsInAxIiwiZmlyZSIsImNyZWF0ZUNvbXB1dGVyR3JpZCIsInAyIiwic2hpcEljb25zIiwiYWxsU2hpcHMiLCJzaGlwIiwiZGl2IiwibmFtZSIsImltYWdlIiwiSW1hZ2UiLCJkcmFnZ2FibGUiLCJkcmFnU3RhcnQiLCJkcmFnRW5kIiwicmVuZGVyU2hpcHMiLCJjaGlsZHJlbiIsInNoaXBOYW1lIiwic2libGluZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJtYXJnaW5SaWdodCIsImZpcnN0U2libGluZyIsInNlY29uZFNpYmxpbmciLCJ0aGlyZFNpYmxpbmciLCJmb3VydGhTaWJsaW5nIiwiZGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsInNldFRpbWVvdXQiLCJhZGQiLCJwYXJlbnRFbGVtZW50IiwiZHJvcFRhcmdldCIsInZhbHVlWmVybyIsImVsIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiY2VsbHMiLCJpbmRleE9mIiwiZXZlcnkiLCJwcmV2ZW50RGVmYXVsdCIsImdldERhdGEiLCJlbXB0eURpdiIsImNvbnRhaW5zIiwiaGFzQ2hpbGROb2RlcyIsIlNoaXAiLCJpc1ZlcnRpY2FsIiwiaXNPcGVyYXRpb25hbCIsImlzUGxhY2VkIiwiY29uc3RydWN0b3IiLCJkZWZlbnNlIiwiYnVpbGRTaGlwIiwiYXJyYXkiLCJoaXQiLCJpc1N1bmsiLCJHYW1lYm9hcmQiLCJpc0ZsZWV0T3BlcmF0aW9uYWwiLCJjYXJyaWVyIiwiYmF0dGxlc2hpcCIsImRlc3Ryb3llciIsInN1Ym1hcmluZSIsInBhdHJvbCIsInBsYWNlU2hpcCIsInNwYWNlIiwiaXNaZXJvIiwiaiIsImZpbGwiLCJyb3RhdGVTaGlwIiwic3MiLCJudW0iLCJyZWNlaXZlQXR0YWNrIiwiZW5lbXkiLCJtaXNzIiwiaGl0U2hpcCIsImhpdEluZGV4IiwiaW5jbHVkZXMiLCJpc0ZsZWV0U3VuayIsImlzRmxlZXRPcGVyYXRpb2FubCIsIlBsYXllciIsImF0dGFjayIsImFpQXR0YWNrIiwiY29vcmRpbmF0ZXMiLCJnZXRDb29yZGluYXRlcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImNvbXB1dGVyU3RyaWtlc0JhY2siLCJnZW5lcmF0ZUNvb3JkaW5hdGUiLCJtYXhMZW5ndGgiLCJwb3NpdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJ0YXJnZXRTaGlwIiwicGFyc2VJbnQiXSwic291cmNlUm9vdCI6IiJ9